componentDiagram
    // Web Layer Components
    component UserController as "User Controller"
    component OrderController as "Order Controller" 
    component ProductController as "Product Controller"
    
    // Service Layer Components
    component UserService as "User Service"
    component OrderService as "Order Service"
    component ProductService as "Product Service"
    component NotificationService as "Notification Service"
    
    // Data Layer Components
    component UserRepository as "User Repository"
    component OrderRepository as "Order Repository"
    component ProductRepository as "Product Repository"
    
    // External Components
    component PaymentGateway as "Payment Gateway"
    component EmailService as "Email Service"
    component Database as "Database"
    
    // Interfaces
    interface UserAPI as "User API"
    interface OrderAPI as "Order API"
    interface ProductAPI as "Product API"
    interface PaymentAPI as "Payment API"
    interface NotificationAPI as "Notification API"
    
    // Packages for organization
    package WebLayer as "Web Layer" {
        component UserController
        component OrderController
        component ProductController
    }
    
    package ServiceLayer as "Service Layer" {
        component UserService
        component OrderService
        component ProductService
        component NotificationService
    }
    
    package DataLayer as "Data Layer" {
        component UserRepository
        component OrderRepository
        component ProductRepository
        component Database
    }
    
    // Dependencies - Web to Service
    UserController --> UserAPI
    OrderController --> OrderAPI
    ProductController --> ProductAPI
    
    UserAPI --> UserService
    OrderAPI --> OrderService
    ProductAPI --> ProductService
    
    // Service Layer Dependencies
    OrderService --> UserService : "validates users"
    OrderService --> ProductService : "checks inventory"
    OrderService --> NotificationService : "sends notifications"
    OrderService --> PaymentAPI
    
    // Service to Data Dependencies
    UserService --> UserRepository
    OrderService --> OrderRepository
    ProductService --> ProductRepository
    NotificationService --> NotificationAPI
    
    // Data Layer Dependencies
    UserRepository --> Database
    OrderRepository --> Database
    ProductRepository --> Database
    
    // External Dependencies
    PaymentAPI --> PaymentGateway
    NotificationAPI --> EmailService
    
    // Notes for documentation
    note right of WebLayer : "REST Controllers handling HTTP requests"
    note left of ServiceLayer : "Business logic and validation"
    note bottom of DataLayer : "Data persistence and retrieval"
    note top of PaymentGateway : "External payment processing"