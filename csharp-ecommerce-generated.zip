{"files":{"Services/ProductService.java":"using ECommerce.Api.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Services\n{\n    public interface IProductService\n    {\n        Task<IEnumerable<Product>> GetAllAsync();\n        Task<Product?> GetByIdAsync(int id);\n        Task<Product> CreateAsync(Product entity);\n        Task<Product> UpdateAsync(int id, Product entity);\n        Task DeleteAsync(int id);\n        Task<Product> SuspendProductAsync(int id);\n        Task<Product> ActivateProductAsync(int id);\n    }\n}\n\n\nusing ECommerce.Api.Models;\nusing ECommerce.Api.Repositories;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Services\n{\n    public class ProductService : IProductService\n    {\n        private readonly IProductRepository _repository;\n\n        public ProductService(IProductRepository repository)\n        {\n            _repository = repository;\n        }\n\n        public async Task<IEnumerable<Product>> GetAllAsync()\n        {\n            return await _repository.GetAllAsync();\n        }\n\n        public async Task<Product?> GetByIdAsync(int id)\n        {\n            return await _repository.GetByIdAsync(id);\n        }\n\n        public async Task<Product> CreateAsync(Product entity)\n        {\n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            return await _repository.CreateAsync(entity);\n        }\n\n        public async Task<Product> UpdateAsync(int id, Product entity)\n        {\n            var existing = await _repository.GetByIdAsync(id);\n            if (existing == null)\n            {\n                throw new ArgumentException($\"Product with id {id} not found\");\n            }\n            \n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            // Update properties\n            entity.Id = id;\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var exists = await _repository.ExistsAsync(id);\n            if (!exists)\n            {\n                throw new ArgumentException($\"Product with id {id} not found\");\n            }\n            \n            await _repository.DeleteAsync(id);\n        }\n\n        public async Task<Product> SuspendProductAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"Product with id {id} not found\");\n            }\n            \n            entity.Suspend();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task<Product> ActivateProductAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"Product with id {id} not found\");\n            }\n            \n            entity.Activate();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        private void ValidateEntity(Product entity)\n        {\n            if (entity == null)\n            {\n                throw new ArgumentNullException(nameof(entity));\n            }\n            \n            // Add custom validation logic here\n        }\n    }\n}\n","Services/OrderService.java":"using ECommerce.Api.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Services\n{\n    public interface IOrderService\n    {\n        Task<IEnumerable<Order>> GetAllAsync();\n        Task<Order?> GetByIdAsync(int id);\n        Task<Order> CreateAsync(Order entity);\n        Task<Order> UpdateAsync(int id, Order entity);\n        Task DeleteAsync(int id);\n        Task<Order> SuspendOrderAsync(int id);\n        Task<Order> ActivateOrderAsync(int id);\n    }\n}\n\n\nusing ECommerce.Api.Models;\nusing ECommerce.Api.Repositories;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Services\n{\n    public class OrderService : IOrderService\n    {\n        private readonly IOrderRepository _repository;\n\n        public OrderService(IOrderRepository repository)\n        {\n            _repository = repository;\n        }\n\n        public async Task<IEnumerable<Order>> GetAllAsync()\n        {\n            return await _repository.GetAllAsync();\n        }\n\n        public async Task<Order?> GetByIdAsync(int id)\n        {\n            return await _repository.GetByIdAsync(id);\n        }\n\n        public async Task<Order> CreateAsync(Order entity)\n        {\n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            return await _repository.CreateAsync(entity);\n        }\n\n        public async Task<Order> UpdateAsync(int id, Order entity)\n        {\n            var existing = await _repository.GetByIdAsync(id);\n            if (existing == null)\n            {\n                throw new ArgumentException($\"Order with id {id} not found\");\n            }\n            \n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            // Update properties\n            entity.Id = id;\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var exists = await _repository.ExistsAsync(id);\n            if (!exists)\n            {\n                throw new ArgumentException($\"Order with id {id} not found\");\n            }\n            \n            await _repository.DeleteAsync(id);\n        }\n\n        public async Task<Order> SuspendOrderAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"Order with id {id} not found\");\n            }\n            \n            entity.Suspend();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task<Order> ActivateOrderAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"Order with id {id} not found\");\n            }\n            \n            entity.Activate();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        private void ValidateEntity(Order entity)\n        {\n            if (entity == null)\n            {\n                throw new ArgumentNullException(nameof(entity));\n            }\n            \n            // Add custom validation logic here\n        }\n    }\n}\n","Data/V001__Initial_Schema.sql":"using ECommerce.Api.Models;\nusing Microsoft.EntityFrameworkCore;\nusing System;\n\nnamespace ECommerce.Api.Data\n{\n    public class ApplicationDbContext : DbContext\n    {\n        public ApplicationDbContext(DbContextOptions<ApplicationDbContext> options) : base(options)\n        {\n        }\n\n        public DbSet<Product> Products { get; set; }\n        public DbSet<Order> Orders { get; set; }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            base.OnModelCreating(modelBuilder);\n\n            // Configure Product entity\n            modelBuilder.Entity<Product>()\n                .ToTable(\"products\")\n                .HasKey(e => e.Id);\n\n            modelBuilder.Entity<Product>()\n                .Property(e => e.Id)\n                .ValueGeneratedOnAdd();\n\n            modelBuilder.Entity<Product>()\n                .Property(e => e.CreatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<Product>()\n                .Property(e => e.UpdatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<Product>()\n                .Property(e => e.Status)\n                .HasConversion<string>();\n\n            // Configure Order entity\n            modelBuilder.Entity<Order>()\n                .ToTable(\"orders\")\n                .HasKey(e => e.Id);\n\n            modelBuilder.Entity<Order>()\n                .Property(e => e.Id)\n                .ValueGeneratedOnAdd();\n\n            modelBuilder.Entity<Order>()\n                .Property(e => e.CreatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<Order>()\n                .Property(e => e.UpdatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<Order>()\n                .Property(e => e.Status)\n                .HasConversion<string>();\n\n        }\n\n        public override int SaveChanges()\n        {\n            UpdateAuditFields();\n            return base.SaveChanges();\n        }\n\n        public override async Task<int> SaveChangesAsync(CancellationToken cancellationToken = default)\n        {\n            UpdateAuditFields();\n            return await base.SaveChangesAsync(cancellationToken);\n        }\n\n        private void UpdateAuditFields()\n        {\n            var entries = ChangeTracker.Entries()\n                .Where(e => e.State == EntityState.Added || e.State == EntityState.Modified);\n\n            foreach (var entry in entries)\n            {\n                if (entry.Entity.GetType().GetProperty(\"UpdatedAt\") != null)\n                {\n                    entry.Property(\"UpdatedAt\").CurrentValue = DateTime.UtcNow;\n                }\n\n                if (entry.State == EntityState.Added && entry.Entity.GetType().GetProperty(\"CreatedAt\") != null)\n                {\n                    entry.Property(\"CreatedAt\").CurrentValue = DateTime.UtcNow;\n                }\n            }\n        }\n    }\n}\n\n\n// Startup.cs configuration for ECommerce.Api\nusing ECommerce.Api.Data;\nusing ECommerce.Api.Services;\nusing ECommerce.Api.Repositories;\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Configuration;\n\nnamespace ECommerce.Api\n{\n    public class Startup\n    {\n        public IConfiguration Configuration { get; }\n\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public void ConfigureServices(IServiceCollection services)\n        {\n            // Add Entity Framework\n            services.AddDbContext<ApplicationDbContext>(options =>\n                options.UseSqlServer(Configuration.GetConnectionString(\"DefaultConnection\")));\n\n            // Add repositories\n            // services.AddScoped<IUserRepository, UserRepository>();\n            // Add more repositories here\n\n            // Add services\n            // services.AddScoped<IUserService, UserService>();\n            // Add more services here\n\n            // Add controllers\n            services.AddControllers();\n\n            // Add Swagger\n            services.AddEndpointsApiExplorer();\n            services.AddSwaggerGen();\n        }\n\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseSwagger();\n                app.UseSwaggerUI();\n            }\n\n            app.UseHttpsRedirection();\n            app.UseRouting();\n            app.UseAuthorization();\n            app.UseEndpoints(endpoints => { endpoints.MapControllers(); });\n        }\n    }\n}\n\n\n// Program.cs for ECommerce.Api\nusing ECommerce.Api.Data;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace ECommerce.Api\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            var builder = WebApplication.CreateBuilder(args);\n\n            // Add services to the container\n            builder.Services.AddDbContext<ApplicationDbContext>(options =>\n                options.UseSqlServer(builder.Configuration.GetConnectionString(\"DefaultConnection\")));\n\n            builder.Services.AddControllers();\n            builder.Services.AddEndpointsApiExplorer();\n            builder.Services.AddSwaggerGen();\n\n            var app = builder.Build();\n\n            // Configure the HTTP request pipeline\n            if (app.Environment.IsDevelopment())\n            {\n                app.UseSwagger();\n                app.UseSwaggerUI();\n            }\n\n            app.UseHttpsRedirection();\n            app.UseAuthorization();\n            app.MapControllers();\n\n            // Ensure database is created\n            using (var scope = app.Services.CreateScope())\n            {\n                var context = scope.ServiceProvider.GetRequiredService<ApplicationDbContext>();\n                context.Database.EnsureCreated();\n            }\n\n            app.Run();\n        }\n    }\n}\n","enums/OrderStatus.cs":"namespace ECommerce.Api.Enums\n{\n    public enum OrderStatus\n    {\n        DELIVERED,\n        CONFIRMED,\n        INITIAL,\n        PENDING,\n        SHIPPED\n    }\n}\n","Controllers/ProductController.java":"using ECommerce.Api.Models;\nusing ECommerce.Api.Services;\nusing Microsoft.AspNetCore.Mvc;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Controllers\n{\n    [ApiController]\n    [Route(\"api/[controller]\")]\n    public class ProductController : ControllerBase\n    {\n        private readonly IProductService _service;\n\n        public ProductController(IProductService service)\n        {\n            _service = service;\n        }\n\n        /// <summary>\n        /// Get all products\n        /// </summary>\n        [HttpGet]\n        public async Task<ActionResult<IEnumerable<Product>>> GetAll()\n        {\n            try\n            {\n                var entities = await _service.GetAllAsync();\n                return Ok(entities);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Get product by ID\n        /// </summary>\n        [HttpGet(\"{id}\")]\n        public async Task<ActionResult<Product>> GetById(int id)\n        {\n            try\n            {\n                var entity = await _service.GetByIdAsync(id);\n                if (entity == null)\n                {\n                    return NotFound(new { error = \"Product not found\", id });\n                }\n                return Ok(entity);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Create new product\n        /// </summary>\n        [HttpPost]\n        public async Task<ActionResult<Product>> Create([FromBody] Product entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var created = await _service.CreateAsync(entity);\n                return CreatedAtAction(nameof(GetById), new { id = created.Id }, created);\n            }\n            catch (ArgumentException ex)\n            {\n                return BadRequest(new { error = \"Validation error\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Update product by ID\n        /// </summary>\n        [HttpPut(\"{id}\")]\n        public async Task<ActionResult<Product>> Update(int id, [FromBody] Product entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var updated = await _service.UpdateAsync(id, entity);\n                return Ok(updated);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Delete product by ID\n        /// </summary>\n        [HttpDelete(\"{id}\")]\n        public async Task<IActionResult> Delete(int id)\n        {\n            try\n            {\n                await _service.DeleteAsync(id);\n                return NoContent();\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Suspend product by ID\n        /// </summary>\n        [HttpPatch(\"{id}/suspend\")]\n        public async Task<ActionResult<Product>> Suspend(int id)\n        {\n            try\n            {\n                var entity = await _service.SuspendProductAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Activate product by ID\n        /// </summary>\n        [HttpPatch(\"{id}/activate\")]\n        public async Task<ActionResult<Product>> Activate(int id)\n        {\n            try\n            {\n                var entity = await _service.ActivateProductAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n    }\n}\n","Repositories/ProductRepository.java":"using ECommerce.Api.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace ECommerce.Api.Repositories\n{\n    public interface IProductRepository\n    {\n        Task<IEnumerable<Product>> GetAllAsync();\n        Task<Product?> GetByIdAsync(int id);\n        Task<Product> CreateAsync(Product entity);\n        Task<Product> UpdateAsync(Product entity);\n        Task DeleteAsync(int id);\n        Task<bool> ExistsAsync(int id);\n    }\n}\n\n\nusing ECommerce.Api.Models;\nusing ECommerce.Api.Data;\nusing Microsoft.EntityFrameworkCore;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace ECommerce.Api.Repositories\n{\n    public class ProductRepository : IProductRepository\n    {\n        private readonly ApplicationDbContext _context;\n\n        public ProductRepository(ApplicationDbContext context)\n        {\n            _context = context;\n        }\n\n        public async Task<IEnumerable<Product>> GetAllAsync()\n        {\n            return await _context.Products.ToListAsync();\n        }\n\n        public async Task<Product?> GetByIdAsync(int id)\n        {\n            return await _context.Products.FindAsync(id);\n        }\n\n        public async Task<Product> CreateAsync(Product entity)\n        {\n            entity.CreatedAt = DateTime.UtcNow;\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Products.Add(entity);\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task<Product> UpdateAsync(Product entity)\n        {\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Entry(entity).State = EntityState.Modified;\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var entity = await GetByIdAsync(id);\n            if (entity != null)\n            {\n                _context.Products.Remove(entity);\n                await _context.SaveChangesAsync();\n            }\n        }\n\n        public async Task<bool> ExistsAsync(int id)\n        {\n            return await _context.Products.AnyAsync(e => e.Id == id);\n        }\n    }\n}\n","Models/Order.cs":"using System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Models\n{\n    [Table(\"orders\")]\n    public class Order\n    {\n        [Key]\n        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n        public long Id { get; set; }\n\n        public long ProductId { get; set; }\n\n        public int Quantity { get; set; }\n\n        [Column(\"status\")]\n        public OrderStatus Status { get; set; }\n\n        [Column(\"created_at\")]\n        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;\n\n        [Column(\"updated_at\")]\n        public DateTime UpdatedAt { get; set; } = DateTime.UtcNow;\n\n        public void Suspend()\n        {\n            if (Status != OrderStatus.ACTIVE)\n            {\n                throw new InvalidOperationException($\"Cannot suspend entity in state: {Status}\");\n            }\n            Status = OrderStatus.SUSPENDED;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n        public void Activate()\n        {\n            if (Status != OrderStatus.SUSPENDED)\n            {\n                throw new InvalidOperationException($\"Cannot activate entity in state: {Status}\");\n            }\n            Status = OrderStatus.ACTIVE;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n    }\n}\n","Controllers/OrderController.java":"using ECommerce.Api.Models;\nusing ECommerce.Api.Services;\nusing Microsoft.AspNetCore.Mvc;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Controllers\n{\n    [ApiController]\n    [Route(\"api/[controller]\")]\n    public class OrderController : ControllerBase\n    {\n        private readonly IOrderService _service;\n\n        public OrderController(IOrderService service)\n        {\n            _service = service;\n        }\n\n        /// <summary>\n        /// Get all orders\n        /// </summary>\n        [HttpGet]\n        public async Task<ActionResult<IEnumerable<Order>>> GetAll()\n        {\n            try\n            {\n                var entities = await _service.GetAllAsync();\n                return Ok(entities);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Get order by ID\n        /// </summary>\n        [HttpGet(\"{id}\")]\n        public async Task<ActionResult<Order>> GetById(int id)\n        {\n            try\n            {\n                var entity = await _service.GetByIdAsync(id);\n                if (entity == null)\n                {\n                    return NotFound(new { error = \"Order not found\", id });\n                }\n                return Ok(entity);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Create new order\n        /// </summary>\n        [HttpPost]\n        public async Task<ActionResult<Order>> Create([FromBody] Order entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var created = await _service.CreateAsync(entity);\n                return CreatedAtAction(nameof(GetById), new { id = created.Id }, created);\n            }\n            catch (ArgumentException ex)\n            {\n                return BadRequest(new { error = \"Validation error\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Update order by ID\n        /// </summary>\n        [HttpPut(\"{id}\")]\n        public async Task<ActionResult<Order>> Update(int id, [FromBody] Order entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var updated = await _service.UpdateAsync(id, entity);\n                return Ok(updated);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Delete order by ID\n        /// </summary>\n        [HttpDelete(\"{id}\")]\n        public async Task<IActionResult> Delete(int id)\n        {\n            try\n            {\n                await _service.DeleteAsync(id);\n                return NoContent();\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Suspend order by ID\n        /// </summary>\n        [HttpPatch(\"{id}/suspend\")]\n        public async Task<ActionResult<Order>> Suspend(int id)\n        {\n            try\n            {\n                var entity = await _service.SuspendOrderAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Activate order by ID\n        /// </summary>\n        [HttpPatch(\"{id}/activate\")]\n        public async Task<ActionResult<Order>> Activate(int id)\n        {\n            try\n            {\n                var entity = await _service.ActivateOrderAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n    }\n}\n","enums/ProductStatus.cs":"namespace ECommerce.Api.Enums\n{\n    public enum ProductStatus\n    {\n        DELIVERED,\n        CONFIRMED,\n        INITIAL,\n        PENDING,\n        SHIPPED\n    }\n}\n","Repositories/OrderRepository.java":"using ECommerce.Api.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace ECommerce.Api.Repositories\n{\n    public interface IOrderRepository\n    {\n        Task<IEnumerable<Order>> GetAllAsync();\n        Task<Order?> GetByIdAsync(int id);\n        Task<Order> CreateAsync(Order entity);\n        Task<Order> UpdateAsync(Order entity);\n        Task DeleteAsync(int id);\n        Task<bool> ExistsAsync(int id);\n    }\n}\n\n\nusing ECommerce.Api.Models;\nusing ECommerce.Api.Data;\nusing Microsoft.EntityFrameworkCore;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace ECommerce.Api.Repositories\n{\n    public class OrderRepository : IOrderRepository\n    {\n        private readonly ApplicationDbContext _context;\n\n        public OrderRepository(ApplicationDbContext context)\n        {\n            _context = context;\n        }\n\n        public async Task<IEnumerable<Order>> GetAllAsync()\n        {\n            return await _context.Orders.ToListAsync();\n        }\n\n        public async Task<Order?> GetByIdAsync(int id)\n        {\n            return await _context.Orders.FindAsync(id);\n        }\n\n        public async Task<Order> CreateAsync(Order entity)\n        {\n            entity.CreatedAt = DateTime.UtcNow;\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Orders.Add(entity);\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task<Order> UpdateAsync(Order entity)\n        {\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Entry(entity).State = EntityState.Modified;\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var entity = await GetByIdAsync(id);\n            if (entity != null)\n            {\n                _context.Orders.Remove(entity);\n                await _context.SaveChangesAsync();\n            }\n        }\n\n        public async Task<bool> ExistsAsync(int id)\n        {\n            return await _context.Orders.AnyAsync(e => e.Id == id);\n        }\n    }\n}\n","Models/Product.cs":"using System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Models\n{\n    [Table(\"products\")]\n    public class Product\n    {\n        [Key]\n        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n        public long Id { get; set; }\n\n        public string Name { get; set; }\n\n        public float Price { get; set; }\n\n        [Column(\"status\")]\n        public ProductStatus Status { get; set; }\n\n        [Column(\"created_at\")]\n        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;\n\n        [Column(\"updated_at\")]\n        public DateTime UpdatedAt { get; set; } = DateTime.UtcNow;\n\n        public void Suspend()\n        {\n            if (Status != ProductStatus.ACTIVE)\n            {\n                throw new InvalidOperationException($\"Cannot suspend entity in state: {Status}\");\n            }\n            Status = ProductStatus.SUSPENDED;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n        public void Activate()\n        {\n            if (Status != ProductStatus.SUSPENDED)\n            {\n                throw new InvalidOperationException($\"Cannot activate entity in state: {Status}\");\n            }\n            Status = ProductStatus.ACTIVE;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n    }\n}\n","README.md":"# Generated Application\n\nThis application was generated from UML diagrams using the modular code generator.\n\n## Architecture\n\n- **Entities**: Domain models with state management\n- **Repositories**: Data access layer\n- **Services**: Business logic layer\n- **Controllers**: REST API endpoints\n\n## Generated Classes\n\n### Product\n- **Stateful entity** with state transitions\n\n### Order\n- **Stateful entity** with state transitions\n\n"},"packageName":null,"language":null,"generatedFiles":{"Services/ProductService.java":"using ECommerce.Api.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Services\n{\n    public interface IProductService\n    {\n        Task<IEnumerable<Product>> GetAllAsync();\n        Task<Product?> GetByIdAsync(int id);\n        Task<Product> CreateAsync(Product entity);\n        Task<Product> UpdateAsync(int id, Product entity);\n        Task DeleteAsync(int id);\n        Task<Product> SuspendProductAsync(int id);\n        Task<Product> ActivateProductAsync(int id);\n    }\n}\n\n\nusing ECommerce.Api.Models;\nusing ECommerce.Api.Repositories;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Services\n{\n    public class ProductService : IProductService\n    {\n        private readonly IProductRepository _repository;\n\n        public ProductService(IProductRepository repository)\n        {\n            _repository = repository;\n        }\n\n        public async Task<IEnumerable<Product>> GetAllAsync()\n        {\n            return await _repository.GetAllAsync();\n        }\n\n        public async Task<Product?> GetByIdAsync(int id)\n        {\n            return await _repository.GetByIdAsync(id);\n        }\n\n        public async Task<Product> CreateAsync(Product entity)\n        {\n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            return await _repository.CreateAsync(entity);\n        }\n\n        public async Task<Product> UpdateAsync(int id, Product entity)\n        {\n            var existing = await _repository.GetByIdAsync(id);\n            if (existing == null)\n            {\n                throw new ArgumentException($\"Product with id {id} not found\");\n            }\n            \n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            // Update properties\n            entity.Id = id;\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var exists = await _repository.ExistsAsync(id);\n            if (!exists)\n            {\n                throw new ArgumentException($\"Product with id {id} not found\");\n            }\n            \n            await _repository.DeleteAsync(id);\n        }\n\n        public async Task<Product> SuspendProductAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"Product with id {id} not found\");\n            }\n            \n            entity.Suspend();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task<Product> ActivateProductAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"Product with id {id} not found\");\n            }\n            \n            entity.Activate();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        private void ValidateEntity(Product entity)\n        {\n            if (entity == null)\n            {\n                throw new ArgumentNullException(nameof(entity));\n            }\n            \n            // Add custom validation logic here\n        }\n    }\n}\n","Services/OrderService.java":"using ECommerce.Api.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Services\n{\n    public interface IOrderService\n    {\n        Task<IEnumerable<Order>> GetAllAsync();\n        Task<Order?> GetByIdAsync(int id);\n        Task<Order> CreateAsync(Order entity);\n        Task<Order> UpdateAsync(int id, Order entity);\n        Task DeleteAsync(int id);\n        Task<Order> SuspendOrderAsync(int id);\n        Task<Order> ActivateOrderAsync(int id);\n    }\n}\n\n\nusing ECommerce.Api.Models;\nusing ECommerce.Api.Repositories;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Services\n{\n    public class OrderService : IOrderService\n    {\n        private readonly IOrderRepository _repository;\n\n        public OrderService(IOrderRepository repository)\n        {\n            _repository = repository;\n        }\n\n        public async Task<IEnumerable<Order>> GetAllAsync()\n        {\n            return await _repository.GetAllAsync();\n        }\n\n        public async Task<Order?> GetByIdAsync(int id)\n        {\n            return await _repository.GetByIdAsync(id);\n        }\n\n        public async Task<Order> CreateAsync(Order entity)\n        {\n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            return await _repository.CreateAsync(entity);\n        }\n\n        public async Task<Order> UpdateAsync(int id, Order entity)\n        {\n            var existing = await _repository.GetByIdAsync(id);\n            if (existing == null)\n            {\n                throw new ArgumentException($\"Order with id {id} not found\");\n            }\n            \n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            // Update properties\n            entity.Id = id;\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var exists = await _repository.ExistsAsync(id);\n            if (!exists)\n            {\n                throw new ArgumentException($\"Order with id {id} not found\");\n            }\n            \n            await _repository.DeleteAsync(id);\n        }\n\n        public async Task<Order> SuspendOrderAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"Order with id {id} not found\");\n            }\n            \n            entity.Suspend();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task<Order> ActivateOrderAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"Order with id {id} not found\");\n            }\n            \n            entity.Activate();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        private void ValidateEntity(Order entity)\n        {\n            if (entity == null)\n            {\n                throw new ArgumentNullException(nameof(entity));\n            }\n            \n            // Add custom validation logic here\n        }\n    }\n}\n","Data/V001__Initial_Schema.sql":"using ECommerce.Api.Models;\nusing Microsoft.EntityFrameworkCore;\nusing System;\n\nnamespace ECommerce.Api.Data\n{\n    public class ApplicationDbContext : DbContext\n    {\n        public ApplicationDbContext(DbContextOptions<ApplicationDbContext> options) : base(options)\n        {\n        }\n\n        public DbSet<Product> Products { get; set; }\n        public DbSet<Order> Orders { get; set; }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            base.OnModelCreating(modelBuilder);\n\n            // Configure Product entity\n            modelBuilder.Entity<Product>()\n                .ToTable(\"products\")\n                .HasKey(e => e.Id);\n\n            modelBuilder.Entity<Product>()\n                .Property(e => e.Id)\n                .ValueGeneratedOnAdd();\n\n            modelBuilder.Entity<Product>()\n                .Property(e => e.CreatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<Product>()\n                .Property(e => e.UpdatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<Product>()\n                .Property(e => e.Status)\n                .HasConversion<string>();\n\n            // Configure Order entity\n            modelBuilder.Entity<Order>()\n                .ToTable(\"orders\")\n                .HasKey(e => e.Id);\n\n            modelBuilder.Entity<Order>()\n                .Property(e => e.Id)\n                .ValueGeneratedOnAdd();\n\n            modelBuilder.Entity<Order>()\n                .Property(e => e.CreatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<Order>()\n                .Property(e => e.UpdatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<Order>()\n                .Property(e => e.Status)\n                .HasConversion<string>();\n\n        }\n\n        public override int SaveChanges()\n        {\n            UpdateAuditFields();\n            return base.SaveChanges();\n        }\n\n        public override async Task<int> SaveChangesAsync(CancellationToken cancellationToken = default)\n        {\n            UpdateAuditFields();\n            return await base.SaveChangesAsync(cancellationToken);\n        }\n\n        private void UpdateAuditFields()\n        {\n            var entries = ChangeTracker.Entries()\n                .Where(e => e.State == EntityState.Added || e.State == EntityState.Modified);\n\n            foreach (var entry in entries)\n            {\n                if (entry.Entity.GetType().GetProperty(\"UpdatedAt\") != null)\n                {\n                    entry.Property(\"UpdatedAt\").CurrentValue = DateTime.UtcNow;\n                }\n\n                if (entry.State == EntityState.Added && entry.Entity.GetType().GetProperty(\"CreatedAt\") != null)\n                {\n                    entry.Property(\"CreatedAt\").CurrentValue = DateTime.UtcNow;\n                }\n            }\n        }\n    }\n}\n\n\n// Startup.cs configuration for ECommerce.Api\nusing ECommerce.Api.Data;\nusing ECommerce.Api.Services;\nusing ECommerce.Api.Repositories;\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Configuration;\n\nnamespace ECommerce.Api\n{\n    public class Startup\n    {\n        public IConfiguration Configuration { get; }\n\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public void ConfigureServices(IServiceCollection services)\n        {\n            // Add Entity Framework\n            services.AddDbContext<ApplicationDbContext>(options =>\n                options.UseSqlServer(Configuration.GetConnectionString(\"DefaultConnection\")));\n\n            // Add repositories\n            // services.AddScoped<IUserRepository, UserRepository>();\n            // Add more repositories here\n\n            // Add services\n            // services.AddScoped<IUserService, UserService>();\n            // Add more services here\n\n            // Add controllers\n            services.AddControllers();\n\n            // Add Swagger\n            services.AddEndpointsApiExplorer();\n            services.AddSwaggerGen();\n        }\n\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseSwagger();\n                app.UseSwaggerUI();\n            }\n\n            app.UseHttpsRedirection();\n            app.UseRouting();\n            app.UseAuthorization();\n            app.UseEndpoints(endpoints => { endpoints.MapControllers(); });\n        }\n    }\n}\n\n\n// Program.cs for ECommerce.Api\nusing ECommerce.Api.Data;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace ECommerce.Api\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            var builder = WebApplication.CreateBuilder(args);\n\n            // Add services to the container\n            builder.Services.AddDbContext<ApplicationDbContext>(options =>\n                options.UseSqlServer(builder.Configuration.GetConnectionString(\"DefaultConnection\")));\n\n            builder.Services.AddControllers();\n            builder.Services.AddEndpointsApiExplorer();\n            builder.Services.AddSwaggerGen();\n\n            var app = builder.Build();\n\n            // Configure the HTTP request pipeline\n            if (app.Environment.IsDevelopment())\n            {\n                app.UseSwagger();\n                app.UseSwaggerUI();\n            }\n\n            app.UseHttpsRedirection();\n            app.UseAuthorization();\n            app.MapControllers();\n\n            // Ensure database is created\n            using (var scope = app.Services.CreateScope())\n            {\n                var context = scope.ServiceProvider.GetRequiredService<ApplicationDbContext>();\n                context.Database.EnsureCreated();\n            }\n\n            app.Run();\n        }\n    }\n}\n","enums/OrderStatus.cs":"namespace ECommerce.Api.Enums\n{\n    public enum OrderStatus\n    {\n        DELIVERED,\n        CONFIRMED,\n        INITIAL,\n        PENDING,\n        SHIPPED\n    }\n}\n","Controllers/ProductController.java":"using ECommerce.Api.Models;\nusing ECommerce.Api.Services;\nusing Microsoft.AspNetCore.Mvc;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Controllers\n{\n    [ApiController]\n    [Route(\"api/[controller]\")]\n    public class ProductController : ControllerBase\n    {\n        private readonly IProductService _service;\n\n        public ProductController(IProductService service)\n        {\n            _service = service;\n        }\n\n        /// <summary>\n        /// Get all products\n        /// </summary>\n        [HttpGet]\n        public async Task<ActionResult<IEnumerable<Product>>> GetAll()\n        {\n            try\n            {\n                var entities = await _service.GetAllAsync();\n                return Ok(entities);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Get product by ID\n        /// </summary>\n        [HttpGet(\"{id}\")]\n        public async Task<ActionResult<Product>> GetById(int id)\n        {\n            try\n            {\n                var entity = await _service.GetByIdAsync(id);\n                if (entity == null)\n                {\n                    return NotFound(new { error = \"Product not found\", id });\n                }\n                return Ok(entity);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Create new product\n        /// </summary>\n        [HttpPost]\n        public async Task<ActionResult<Product>> Create([FromBody] Product entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var created = await _service.CreateAsync(entity);\n                return CreatedAtAction(nameof(GetById), new { id = created.Id }, created);\n            }\n            catch (ArgumentException ex)\n            {\n                return BadRequest(new { error = \"Validation error\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Update product by ID\n        /// </summary>\n        [HttpPut(\"{id}\")]\n        public async Task<ActionResult<Product>> Update(int id, [FromBody] Product entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var updated = await _service.UpdateAsync(id, entity);\n                return Ok(updated);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Delete product by ID\n        /// </summary>\n        [HttpDelete(\"{id}\")]\n        public async Task<IActionResult> Delete(int id)\n        {\n            try\n            {\n                await _service.DeleteAsync(id);\n                return NoContent();\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Suspend product by ID\n        /// </summary>\n        [HttpPatch(\"{id}/suspend\")]\n        public async Task<ActionResult<Product>> Suspend(int id)\n        {\n            try\n            {\n                var entity = await _service.SuspendProductAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Activate product by ID\n        /// </summary>\n        [HttpPatch(\"{id}/activate\")]\n        public async Task<ActionResult<Product>> Activate(int id)\n        {\n            try\n            {\n                var entity = await _service.ActivateProductAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n    }\n}\n","Repositories/ProductRepository.java":"using ECommerce.Api.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace ECommerce.Api.Repositories\n{\n    public interface IProductRepository\n    {\n        Task<IEnumerable<Product>> GetAllAsync();\n        Task<Product?> GetByIdAsync(int id);\n        Task<Product> CreateAsync(Product entity);\n        Task<Product> UpdateAsync(Product entity);\n        Task DeleteAsync(int id);\n        Task<bool> ExistsAsync(int id);\n    }\n}\n\n\nusing ECommerce.Api.Models;\nusing ECommerce.Api.Data;\nusing Microsoft.EntityFrameworkCore;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace ECommerce.Api.Repositories\n{\n    public class ProductRepository : IProductRepository\n    {\n        private readonly ApplicationDbContext _context;\n\n        public ProductRepository(ApplicationDbContext context)\n        {\n            _context = context;\n        }\n\n        public async Task<IEnumerable<Product>> GetAllAsync()\n        {\n            return await _context.Products.ToListAsync();\n        }\n\n        public async Task<Product?> GetByIdAsync(int id)\n        {\n            return await _context.Products.FindAsync(id);\n        }\n\n        public async Task<Product> CreateAsync(Product entity)\n        {\n            entity.CreatedAt = DateTime.UtcNow;\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Products.Add(entity);\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task<Product> UpdateAsync(Product entity)\n        {\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Entry(entity).State = EntityState.Modified;\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var entity = await GetByIdAsync(id);\n            if (entity != null)\n            {\n                _context.Products.Remove(entity);\n                await _context.SaveChangesAsync();\n            }\n        }\n\n        public async Task<bool> ExistsAsync(int id)\n        {\n            return await _context.Products.AnyAsync(e => e.Id == id);\n        }\n    }\n}\n","Models/Order.cs":"using System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Models\n{\n    [Table(\"orders\")]\n    public class Order\n    {\n        [Key]\n        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n        public long Id { get; set; }\n\n        public long ProductId { get; set; }\n\n        public int Quantity { get; set; }\n\n        [Column(\"status\")]\n        public OrderStatus Status { get; set; }\n\n        [Column(\"created_at\")]\n        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;\n\n        [Column(\"updated_at\")]\n        public DateTime UpdatedAt { get; set; } = DateTime.UtcNow;\n\n        public void Suspend()\n        {\n            if (Status != OrderStatus.ACTIVE)\n            {\n                throw new InvalidOperationException($\"Cannot suspend entity in state: {Status}\");\n            }\n            Status = OrderStatus.SUSPENDED;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n        public void Activate()\n        {\n            if (Status != OrderStatus.SUSPENDED)\n            {\n                throw new InvalidOperationException($\"Cannot activate entity in state: {Status}\");\n            }\n            Status = OrderStatus.ACTIVE;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n    }\n}\n","Controllers/OrderController.java":"using ECommerce.Api.Models;\nusing ECommerce.Api.Services;\nusing Microsoft.AspNetCore.Mvc;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Controllers\n{\n    [ApiController]\n    [Route(\"api/[controller]\")]\n    public class OrderController : ControllerBase\n    {\n        private readonly IOrderService _service;\n\n        public OrderController(IOrderService service)\n        {\n            _service = service;\n        }\n\n        /// <summary>\n        /// Get all orders\n        /// </summary>\n        [HttpGet]\n        public async Task<ActionResult<IEnumerable<Order>>> GetAll()\n        {\n            try\n            {\n                var entities = await _service.GetAllAsync();\n                return Ok(entities);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Get order by ID\n        /// </summary>\n        [HttpGet(\"{id}\")]\n        public async Task<ActionResult<Order>> GetById(int id)\n        {\n            try\n            {\n                var entity = await _service.GetByIdAsync(id);\n                if (entity == null)\n                {\n                    return NotFound(new { error = \"Order not found\", id });\n                }\n                return Ok(entity);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Create new order\n        /// </summary>\n        [HttpPost]\n        public async Task<ActionResult<Order>> Create([FromBody] Order entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var created = await _service.CreateAsync(entity);\n                return CreatedAtAction(nameof(GetById), new { id = created.Id }, created);\n            }\n            catch (ArgumentException ex)\n            {\n                return BadRequest(new { error = \"Validation error\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Update order by ID\n        /// </summary>\n        [HttpPut(\"{id}\")]\n        public async Task<ActionResult<Order>> Update(int id, [FromBody] Order entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var updated = await _service.UpdateAsync(id, entity);\n                return Ok(updated);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Delete order by ID\n        /// </summary>\n        [HttpDelete(\"{id}\")]\n        public async Task<IActionResult> Delete(int id)\n        {\n            try\n            {\n                await _service.DeleteAsync(id);\n                return NoContent();\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Suspend order by ID\n        /// </summary>\n        [HttpPatch(\"{id}/suspend\")]\n        public async Task<ActionResult<Order>> Suspend(int id)\n        {\n            try\n            {\n                var entity = await _service.SuspendOrderAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Activate order by ID\n        /// </summary>\n        [HttpPatch(\"{id}/activate\")]\n        public async Task<ActionResult<Order>> Activate(int id)\n        {\n            try\n            {\n                var entity = await _service.ActivateOrderAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n    }\n}\n","enums/ProductStatus.cs":"namespace ECommerce.Api.Enums\n{\n    public enum ProductStatus\n    {\n        DELIVERED,\n        CONFIRMED,\n        INITIAL,\n        PENDING,\n        SHIPPED\n    }\n}\n","Repositories/OrderRepository.java":"using ECommerce.Api.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace ECommerce.Api.Repositories\n{\n    public interface IOrderRepository\n    {\n        Task<IEnumerable<Order>> GetAllAsync();\n        Task<Order?> GetByIdAsync(int id);\n        Task<Order> CreateAsync(Order entity);\n        Task<Order> UpdateAsync(Order entity);\n        Task DeleteAsync(int id);\n        Task<bool> ExistsAsync(int id);\n    }\n}\n\n\nusing ECommerce.Api.Models;\nusing ECommerce.Api.Data;\nusing Microsoft.EntityFrameworkCore;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace ECommerce.Api.Repositories\n{\n    public class OrderRepository : IOrderRepository\n    {\n        private readonly ApplicationDbContext _context;\n\n        public OrderRepository(ApplicationDbContext context)\n        {\n            _context = context;\n        }\n\n        public async Task<IEnumerable<Order>> GetAllAsync()\n        {\n            return await _context.Orders.ToListAsync();\n        }\n\n        public async Task<Order?> GetByIdAsync(int id)\n        {\n            return await _context.Orders.FindAsync(id);\n        }\n\n        public async Task<Order> CreateAsync(Order entity)\n        {\n            entity.CreatedAt = DateTime.UtcNow;\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Orders.Add(entity);\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task<Order> UpdateAsync(Order entity)\n        {\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Entry(entity).State = EntityState.Modified;\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var entity = await GetByIdAsync(id);\n            if (entity != null)\n            {\n                _context.Orders.Remove(entity);\n                await _context.SaveChangesAsync();\n            }\n        }\n\n        public async Task<bool> ExistsAsync(int id)\n        {\n            return await _context.Orders.AnyAsync(e => e.Id == id);\n        }\n    }\n}\n","Models/Product.cs":"using System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing System;\n\nusing ECommerce.Api.Enums;\n\nnamespace ECommerce.Api.Models\n{\n    [Table(\"products\")]\n    public class Product\n    {\n        [Key]\n        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n        public long Id { get; set; }\n\n        public string Name { get; set; }\n\n        public float Price { get; set; }\n\n        [Column(\"status\")]\n        public ProductStatus Status { get; set; }\n\n        [Column(\"created_at\")]\n        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;\n\n        [Column(\"updated_at\")]\n        public DateTime UpdatedAt { get; set; } = DateTime.UtcNow;\n\n        public void Suspend()\n        {\n            if (Status != ProductStatus.ACTIVE)\n            {\n                throw new InvalidOperationException($\"Cannot suspend entity in state: {Status}\");\n            }\n            Status = ProductStatus.SUSPENDED;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n        public void Activate()\n        {\n            if (Status != ProductStatus.SUSPENDED)\n            {\n                throw new InvalidOperationException($\"Cannot activate entity in state: {Status}\");\n            }\n            Status = ProductStatus.ACTIVE;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n    }\n}\n","README.md":"# Generated Application\n\nThis application was generated from UML diagrams using the modular code generator.\n\n## Architecture\n\n- **Entities**: Domain models with state management\n- **Repositories**: Data access layer\n- **Services**: Business logic layer\n- **Controllers**: REST API endpoints\n\n## Generated Classes\n\n### Product\n- **Stateful entity** with state transitions\n\n### Order\n- **Stateful entity** with state transitions\n\n"}}