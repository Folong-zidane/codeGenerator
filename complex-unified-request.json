{
    "classDiagramContent": "classDiagram\n    class Entity {\n        <<abstract>>\n        #Long id\n        #LocalDateTime createdAt\n        #LocalDateTime updatedAt\n        +getId() Long\n        +getCreatedAt() LocalDateTime\n    }\n\n    class User {\n        -String username\n        -String email\n        -String passwordHash\n        -UserRole role\n        -LocalDateTime lastLogin\n        -boolean active\n        +authenticate(password) boolean\n        +updateProfile(profile) void\n        +getOrders() List~Order~\n        +isActive() boolean\n    }\n\n    class Order {\n        -String orderNumber\n        -OrderStatus status\n        -LocalDateTime orderDate\n        -BigDecimal totalAmount\n        -String shippingAddress\n        +calculateTotal() BigDecimal\n        +updateStatus(status) void\n        +getOrderItems() List~OrderItem~\n        +cancel() boolean\n    }\n\n    class Product {\n        -String name\n        -String description\n        -BigDecimal price\n        -int quantity\n        -String sku\n        -ProductCategory category\n        -List~Review~ reviews\n        +decreaseStock(amount) void\n        +increaseStock(amount) void\n        +getAverageRating() Double\n        +isInStock() boolean\n    }\n\n    class OrderItem {\n        -int quantity\n        -BigDecimal unitPrice\n        -BigDecimal lineTotal\n        +calculateLineTotal() BigDecimal\n        +getProduct() Product\n    }\n\n    class Review {\n        -int rating\n        -String comment\n        -User author\n        -int helpfulCount\n        +getRating() int\n        +isValid() boolean\n    }\n\n    class Payment {\n        <<interface>>\n        +processPayment() boolean\n        +refund() boolean\n        +getStatus() PaymentStatus\n    }\n\n    class CreditCardPayment {\n        -String cardNumber\n        -String expiryDate\n        -String cvv\n        +processPayment() boolean\n        +refund() boolean\n    }\n\n    class PayPalPayment {\n        -String email\n        -String transactionId\n        +processPayment() boolean\n        +refund() boolean\n    }\n\n    class Inventory {\n        -Map~String, Product~ products\n        +addProduct(product) void\n        +removeProduct(productId) void\n        +getProduct(productId) Product\n        +updateStock(productId, quantity) void\n    }\n\n    Entity <|-- User\n    Entity <|-- Order\n    Entity <|-- Product\n    Entity <|-- OrderItem\n    User \"1\" --> \"*\" Order : places\n    Order \"1\" --> \"*\" OrderItem : contains\n    OrderItem \"*\" --> \"1\" Product : references\n    Product \"1\" --> \"*\" Review : has\n    Review \"*\" --> \"1\" User : writtenBy\n    Order \"1\" --> \"1\" Payment : uses\n    Payment <|.. CreditCardPayment : implements\n    Payment <|.. PayPalPayment : implements\n    Inventory \"1\" --> \"*\" Product : manages",
    
    "sequenceDiagramContent": "sequenceDiagram\n    actor User\n    participant Client\n    participant AuthService\n    participant OrderService\n    participant PaymentGateway\n    participant Database\n    participant NotificationService\n\n    User->>Client: Login with credentials\n    Client->>AuthService: POST /auth/login\n    AuthService->>Database: Verify credentials\n    Database-->>AuthService: User found\n    AuthService-->>Client: JWT token\n    Client-->>User: Login success\n\n    User->>Client: Browse products\n    Client->>OrderService: GET /products\n    OrderService->>Database: Query products\n    Database-->>OrderService: Product list\n    OrderService-->>Client: JSON response\n    Client-->>User: Display products\n\n    User->>Client: Place order\n    Client->>OrderService: POST /orders\n\n    alt Order validation fails\n        OrderService->>Database: Check inventory\n        Database-->>OrderService: Insufficient stock\n        OrderService-->>Client: 400 Bad Request\n        Client-->>User: Show error\n    else Order validation succeeds\n        OrderService->>Database: Save order\n        Database-->>OrderService: Order ID\n        OrderService->>PaymentGateway: Process payment\n        PaymentGateway-->>OrderService: Payment confirmed\n        OrderService->>Database: Update order status\n        OrderService->>NotificationService: Send confirmation\n        NotificationService-->>User: Email confirmation\n        OrderService-->>Client: 201 Created\n        Client-->>User: Order confirmed\n    end",
    
    "stateDiagramContent": "stateDiagram-v2\n    [*] --> New\n\n    state Order {\n        [*] --> Pending\n        \n        Pending --> Processing : process()\n        Processing --> Confirmed : confirm()\n        \n        state PaymentProcessing {\n            [*] --> WaitingPayment\n            WaitingPayment --> PaymentVerified : paymentReceived()\n            PaymentVerified --> [*]\n        }\n        \n        Confirmed --> PaymentProcessing : initiatePayment()\n        PaymentProcessing --> Paid : paymentSuccess()\n        \n        Paid --> Packing : startPacking()\n        Packing --> Shipped : ship()\n        \n        state Shipping {\n            [*] --> InTransit\n            InTransit --> OutForDelivery : nearDestination()\n            OutForDelivery --> [*]\n        }\n        \n        Shipped --> Shipping : trackShipment()\n        Shipping --> Delivered : deliver()\n        \n        Pending --> Cancelled : cancel()\n        Processing --> Cancelled : cancel()\n        Confirmed --> Cancelled : cancel()\n        \n        Delivered --> Returned : requestReturn()\n        Returned --> ReturnProcessing : processReturn()\n        ReturnProcessing --> RefundInitiated : approveReturn()\n        RefundInitiated --> [*]\n        \n        Cancelled --> [*]\n    }\n\n    New --> Order : validateOrder()\n    Order --> Archived : archiveOrder()\n    Archived --> [*]",
    
    "objectDiagramContent": "objectDiagram\n    class User {\n        id = \"U001\"\n        username = \"john.doe\"\n        email = \"john@example.com\"\n        role = \"CUSTOMER\"\n        active = true\n    }\n\n    class User {\n        id = \"U002\"\n        username = \"admin.user\"\n        email = \"admin@example.com\"\n        role = \"ADMIN\"\n        active = true\n    }\n\n    class Order {\n        id = \"ORD001\"\n        orderNumber = \"ORD-2025-001\"\n        status = \"PROCESSING\"\n        totalAmount = 299.99\n    }\n\n    class OrderItem {\n        id = \"OI001\"\n        quantity = 2\n        unitPrice = 99.99\n        lineTotal = 199.98\n    }\n\n    class OrderItem {\n        id = \"OI002\"\n        quantity = 1\n        unitPrice = 100.01\n        lineTotal = 100.01\n    }\n\n    class Product {\n        id = \"P001\"\n        name = \"Laptop\"\n        sku = \"LAPTOP-001\"\n        price = 99.99\n        quantity = 150\n    }\n\n    class Product {\n        id = \"P002\"\n        name = \"Mouse\"\n        sku = \"MOUSE-001\"\n        price = 100.01\n        quantity = 500\n    }\n\n    class Review {\n        id = \"R001\"\n        rating = 5\n        comment = \"Excellent product!\"\n    }\n\n    class Payment {\n        id = \"PAY001\"\n        status = \"COMPLETED\"\n        method = \"CREDIT_CARD\"\n    }\n\n    user1 : User {\n        id = \"U001\"\n    }\n\n    user2 : User {\n        id = \"U002\"\n    }\n\n    order1 : Order {\n        id = \"ORD001\"\n    }\n\n    product1 : Product {\n        id = \"P001\"\n    }\n\n    product2 : Product {\n        id = \"P002\"\n    }\n\n    user1 -- order1 : places\n    order1 -- product1 : contains\n    order1 -- product2 : contains\n    product1 -- review1 : has",
    
    "activityDiagramContent": "activityDiagram-beta\n    start\n    :Process Order;\n    partition \"Order Processing\" {\n        :Validate Order Data;\n        if (Data Valid?) then (no)\n            :Log Error;\n            :Send Error Notification;\n            end\n        else (yes)\n            :Check Inventory;\n        endif\n    }\n    \n    if (Stock Available?) then (no)\n        :Update Stock Alert;\n        :Notify Supplier;\n        end\n    else (yes)\n        partition \"Payment Processing\" {\n            :Initiate Payment;\n            if (Payment Gateway Available?) then (no)\n                :Queue Payment;\n            else (yes)\n                :Process Payment;\n            endif\n            \n            if (Payment Successful?) then (yes)\n                :Confirm Payment;\n            else (no)\n                :Rollback Order;\n                end\n            endif\n        }\n    endif\n    \n    partition \"Fulfillment\" {\n        :Create Packing List;\n        :Reserve Stock;\n        :Generate Shipping Label;\n        if (Shipping Address Valid?) then (no)\n            :Request Address Correction;\n        else (yes)\n            :Schedule Pickup;\n        endif\n    }\n    \n    partition \"Notifications\" {\n        fork\n            :Send Order Confirmation;\n        fork again\n            :Send Tracking Info;\n        fork again\n            :Update Dashboard;\n        join\n    }\n    \n    :Archive Order;\n    end",
    
    "packageName": "com.ecommerce.complex",
    "language": "python"
}