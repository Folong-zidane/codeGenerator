classDiagram
    %% ========== CLASSES PRINCIPALES ==========
    class Utilisateur {
        -id: Integer PK
        -email: String
        -mot_de_passe: String
        -role: Enum(Admin, User)
        -date_creation: DateTime
        -derniere_connexion: DateTime
        +creerContenu() Article
        +modifierContenu(articleId) void
        +supprimerContenu(articleId) void
        +telechargerMedia(mediaId) void
        +ajouterFavori(articleId) void
    }

    class Administrateur {
        -droits_complets: Boolean
        -niveau_acces: Integer
        +gererRubriques() void
        +consulterStatistiques() Statistiques
        +gererUtilisateurs() void
        +gererParametres() void
        +modererCommentaires() void
        +exporterDonnees() File
    }

    class Article {
        -id: Integer PK
        -titre: String
        -description: Text
        -date_publication: DateTime
        -date_modification: DateTime
        -statut: Enum(brouillon, publie, archive, programme)
        -image_couverture: String
        -slug: String
        -auteur_id: Integer FK
        -rubrique_id: Integer FK
        -meta_description: String
        -meta_keywords: String
        +publier() void
        +archiver() void
        +programmer(date) void
        +ajouterBloc() BlocContenu
        +modifierBloc(blocId) void
        +supprimerBloc(blocId) void
        +genererVersion() ContentVersion
    }

    class BlocContenu {
        -id: Integer PK
        -article_id: Integer FK
        -type_bloc: Enum(texte, image, video, pdf, audio, galerie, code, citation)
        -contenu: JSON
        -ordre_position: Integer
        -niveau_hierarchie: Integer
        -parent_bloc_id: Integer FK
        -config_affichage: JSON
        -media_id: Integer FK
        +reordonner(position) void
        +render() HTML
        +ajouterSousBloc() BlocContenu
        +dupliquer() BlocContenu
    }

    class Rubrique {
        -id: Integer PK
        -nom: String
        -description: Text
        -slug: String
        -parent_id: Integer FK
        -ordre: Integer
        -icone: String
        -couleur: String
        -visible: Boolean
        +ajouterSousRubrique() Rubrique
        +supprimerSousRubrique(id) void
        +obtenirArticles() List~Article~
        +compterArticles() Integer
    }

    class Tag {
        -id: Integer PK
        -nom: String
        -slug: String
        -description: String
        -utilisation_count: Integer
        +obtenirArticles() List~Article~
        +fusionner(autreTag) void
    }

    %% ========== GESTION MÉDIAS COMPLÈTE ==========
    class MediaFile {
        -id: Integer PK
        -titre: String
        -type_mime: String
        -fichier_url: String
        -taille_octets: Integer
        -hash_sha256: String
        -upload_date: DateTime
        -auteur_id: Integer FK
        -alt_text: String
        -legende: String
        -dimensions: String
        -duree: Integer
        +uploadToS3() String
        +genererHash() String
        +verifierDuplication() Boolean
        +supprimerAvecVariants() void
    }

    class MediaVariant {
        -id: Integer PK
        -media_file_id: Integer FK
        -format: Enum(original, webp, thumbnail, video_low, video_high)
        -width: Integer
        -height: Integer
        -quality: Integer
        -url_s3: String
        -size_kb: Float
        -cdn_url: String
        +genererVariant() void
        +optimiserPourMobile() void
    }

    class MediaUsage {
        -id: Integer PK
        -media_file_id: Integer FK
        -bloc_contenu_id: Integer FK
        -contexte: Enum(cover, galerie, embed, thumbnail)
        -position: Integer
        -date_usage: DateTime
        +enregistrerUsage() void
        +compterUtilisations() Integer
    }

    class MediaProcessingJob {
        -id: Integer PK
        -media_file_id: Integer FK
        -status: Enum(pending, processing, done, error)
        -job_type: Enum(thumbnail, ocr, convert, compress)
        -progress: Integer
        -result_url: String
        -error_message: Text
        -started_at: DateTime
        -completed_at: DateTime
        +process() void
        +retry() void
    }

    class MediaLicense {
        -id: Integer PK
        -media_file_id: Integer FK
        -type: Enum(cc0, propriete, royalty_free, custom)
        -auteur: String
        -attribution_text: String
        -usage_restrictions: Text
        -date_expiration: DateTime
        +verifierDroits() Boolean
    }

    class VideoStream {
        -id: Integer PK
        -media_file_id: Integer FK
        -format: Enum(HLS, DASH, MP4)
        -quality: Enum(480p, 720p, 1080p)
        -segment_url: String
        -bitrate: Integer
        -codec: String
        +genererSegments() void
        +adaptiveStreaming() String
    }

    class AudioTrack {
        -id: Integer PK
        -media_file_id: Integer FK
        -format: Enum(MP3, WAV, OGG)
        -bitrate: Integer
        -duration: Integer
        -waveform_data: JSON
        +genererWaveform() void
    }

    class DocumentPreview {
        -id: Integer PK
        -media_file_id: Integer FK
        -page_number: Integer
        -preview_url: String
        -ocr_text: Text
        -searchable: Boolean
        +extraireTexte() void
        +genererPreview() void
    }

    class BulkUpload {
        -id: Integer PK
        -user_id: Integer FK
        -total_files: Integer
        -processed_files: Integer
        -status: Enum(pending, processing, completed, failed)
        -zip_url: String
        -upload_date: DateTime
        +processZip() void
        +genererRapport() File
    }

    %% ========== STATISTIQUES DÉTAILLÉES ==========
    class Statistiques {
        -id: Integer PK
        -article_id: Integer FK
        -vues: Integer
        -vues_uniques: Integer
        -telechargements: Integer
        -partages: Integer
        -commentaires_count: Integer
        -favoris_count: Integer
        -temps_lecture_moyen: Integer
        -taux_rebond: Float
        -score_engagement: Float
        -date_maj: DateTime
        +mettreAJour() void
        +incrementerVues() void
        +incrementerVuesUniques(ip) void
        +incrementerTelechargements() void
        +incrementerPartages() void
        +calculerTauxEngagement() Float
        +calculerScoreBoost() Float
    }

    class VueArticle {
        -id: Integer PK
        -article_id: Integer FK
        -user_id: Integer FK
        -session_id: String
        -ip_address: String
        -user_agent: String
        -device_type: Enum(mobile, tablet, desktop)
        -pays: String
        -ville: String
        -duree_lecture: Integer
        -scroll_depth: Integer
        -date_vue: DateTime
        -referrer: String
        +enregistrerVue() void
        +verifierUnique() Boolean
    }

    class TelechargementMedia {
        -id: Integer PK
        -media_id: Integer FK
        -user_id: Integer FK
        -ip_address: String
        -device_type: String
        -date_telechargement: DateTime
        -success: Boolean
        -format_demande: String
        +enregistrerTelechargement() void
    }

    class PartageArticle {
        -id: Integer PK
        -article_id: Integer FK
        -user_id: Integer FK
        -plateforme: Enum(facebook, twitter, whatsapp, linkedin, email)
        -date_partage: DateTime
        -clicks_count: Integer
        +enregistrerPartage() void
        +incrementerClicks() void
    }

    %% ========== HOMEPAGE DYNAMIQUE ==========
    class FeaturedItem {
        -id: Integer PK
        -article_id: Integer FK
        -position: Integer
        -type: Enum(carousel, carte, boost)
        -date_debut: DateTime
        -date_fin: DateTime
        -poids_boost: Integer
        -actif: Boolean
        +activer() void
        +desactiver() void
        +calculerScore() Float
    }

    class HomepageLayout {
        -id: Integer PK
        -section: Enum(carousel, cartes, categories, hero)
        -layout_type: Enum(grid, carousel, strip, masonry)
        -items_per_page: Integer
        -autoplay_speed: Integer
        -config_json: JSON
        -actif: Boolean
        +appliquerLayout() void
        +previsualiser() HTML
    }

    class BoostRule {
        -id: Integer PK
        -critere: Enum(vues, telechargements, partages, engagement)
        -seuil_min: Integer
        -poids: Integer
        -active: Boolean
        -region_pays_id: Integer FK
        -date_creation: DateTime
        +evaluerArticle(article) Boolean
        +appliquerBoost() void
    }

    class CategoryFilter {
        -id: Integer PK
        -categorie_id: Integer FK
        -page: Enum(homepage, rubrique, search)
        -order_by: Enum(date, popularite, boost)
        -limit: Integer
        -filtres_json: JSON
        +appliquerFiltre() List~Article~
    }

    class CarouselSlide {
        -id: Integer PK
        -featured_item_id: Integer FK
        -slide_num: Integer
        -transition_fx: Enum(fade, slide, zoom)
        -duration_ms: Integer
        -caption: String
        +genererSlide() HTML
    }

    class CardPreview {
        -id: Integer PK
        -article_id: Integer FK
        -layout: Enum(compact, large, minimal)
        -fields_display: JSON
        -ordre: Integer
        +render() HTML
    }

    class RealTimeUpdate {
        -id: Integer PK
        -event_type: Enum(new_article, boost_change, comment_new)
        -payload: JSON
        -timestamp: DateTime
        -broadcast_to: Enum(users, region, all)
        +broadcaster() void
    }

    class UserPreference {
        -id: Integer PK
        -user_id: Integer FK
        -categories_favorites: JSON
        -langue_pref: String
        -region_pref: String
        -theme: Enum(light, dark, auto)
        +personnaliserHomepage() JSON
    }

    %% ========== SEO AVANCÉ ==========
    class SEOConfig {
        -id: Integer PK
        -article_id: Integer FK
        -page_id: Integer FK
        -meta_title: String
        -meta_description: String
        -keywords: String
        -schema_json_ld: JSON
        -canonical_url: String
        -robots_index: Boolean
        -robots_follow: Boolean
        -og_image: String
        -og_type: String
        +genererAutomatic() void
        +validerSEO() JSON
        +genererSchemaMarkup() JSON
    }

    class Sitemap {
        -id: Integer PK
        -type: Enum(xml, html, news, video)
        -last_generated: DateTime
        -url: String
        -priority: Float
        -changefreq: Enum(always, hourly, daily, weekly)
        -total_urls: Integer
        +genererSitemap() void
        +soumettreGoogleSearchConsole() void
    }

    class Page {
        -id: Integer PK
        -slug: String
        -titre: String
        -template: Enum(homepage, article, rubrique, custom, 404)
        -meta_seo_id: Integer FK
        -layout_json: JSON
        -contenu_html: Text
        -visible: Boolean
        +render() HTML
        +previsualiser() HTML
    }

    class Menu {
        -id: Integer PK
        -nom: Enum(main, footer, mobile, sidebar)
        -items_json: JSON
        -langue_id: Integer FK
        -ordre: Integer
        -actif: Boolean
        +ajouterItem() void
        +reordonner() void
        +render() HTML
    }

    %% ========== MULTILINGUE NATIF ==========
    class Langue {
        -id: Integer PK
        -code: String
        -nom: String
        -direction: Enum(LTR, RTL)
        -active: Boolean
        -drapeau_icon: String
        +activer() void
        +desactiver() void
    }

    class Traduction {
        -id: Integer PK
        -article_id: Integer FK
        -langue_id: Integer FK
        -titre_traduit: String
        -contenu_traduit: JSON
        -statut: Enum(en_cours, complete, validee)
        -traducteur_id: Integer FK
        -progress: Integer
        +traduire() void
        +valider() void
        +synchroniser() void
    }

    class LangueContenu {
        -id: Integer PK
        -article_id: Integer FK
        -langue_id: Integer FK
        -statut_traduction: Enum(non_traduit, en_cours, complet)
        -progress: Integer
        -auto_traduit: Boolean
        +detecterLangue() String
        +traduireAuto() void
    }

    %% ========== PWA & PERFORMANCE ==========
    class PWAConfig {
        -id: Integer PK
        -manifest_json: JSON
        -service_worker_version: String
        -offline_pages: JSON
        -cache_strategy: Enum(network_first, cache_first, stale_while_revalidate)
        -push_notifications: Boolean
        +genererManifest() JSON
        +mettreAJourServiceWorker() void
    }

    class AnalyticsEvent {
        -id: Integer PK
        -user_id: Integer FK
        -session_id: String
        -event_type: Enum(pageview, click, telechargement, scroll, search)
        -payload: JSON
        -timestamp: DateTime
        -device_info: JSON
        +enregistrerEvent() void
        +anonymiser() void
    }

    class ABTest {
        -id: Integer PK
        -page_id: Integer FK
        -nom_test: String
        -variant_a: JSON
        -variant_b: JSON
        -metric: Enum(clics, temps, conversion)
        -winner: Enum(A, B, none)
        -date_debut: DateTime
        -date_fin: DateTime
        -participants: Integer
        +assignerVariant(userId) String
        +calculerGagnant() String
    }

    %% ========== E-COMMERCE PHASE 3 ==========
    class ProduitPremium {
        -id: Integer PK
        -article_id: Integer FK
        -prix_fcfa: Integer
        -mobile_money_actif: Boolean
        -mobile_money_provider: Enum(MTN, Orange, Both)
        -stock: Integer
        -telechargements_max: Integer
        +verifierStock() Boolean
        +deduireStock() void
    }

    class Panier {
        -id: Integer PK
        -user_id: Integer FK
        -session_id: String
        -items_json: JSON
        -total_fcfa: Integer
        -statut: Enum(actif, converti, abandonne)
        -date_creation: DateTime
        -date_expiration: DateTime
        +ajouterItem() void
        +calculerTotal() Integer
        +vider() void
    }

    class Paiement {
        -id: Integer PK
        -panier_id: Integer FK
        -user_id: Integer FK
        -methode: Enum(MTN_MoMo, Orange_Money, Carte, Virement)
        -montant: Integer
        -statut: Enum(pending, success, failed, refund)
        -transaction_id: String
        -reference_externe: String
        -date_paiement: DateTime
        +initierPaiement() String
        +verifierStatut() void
        +rembourser() void
    }

    class Transaction {
        -id: Integer PK
        -user_id: Integer FK
        -paiement_id: Integer FK
        -abonnement_id: Integer FK
        -montant: Integer
        -devise: String
        -statut: Enum(en_attente, reussi, echoue, rembourse)
        -reference_paiement: String
        -mode_paiement: String
        -date_transaction: DateTime
        -callback_data: JSON
        +verifierStatut() void
        +rembourser() void
        +genererRecu() File
    }

    class AbonnementPayant {
        -id: Integer PK
        -user_id: Integer FK
        -plan: Enum(mensuel, trimestriel, annuel)
        -date_debut: DateTime
        -date_fin: DateTime
        -statut: Enum(actif, expire, annule, suspendu)
        -prix: Integer
        -mode_paiement: Enum(mobile_money, carte, virement)
        -auto_renouvellement: Boolean
        +renouveler() void
        +annuler() void
        +suspendre() void
    }

    class Paywall {
        -id: Integer PK
        -article_id: Integer FK
        -type: Enum(premium, abonnement, payperdownload)
        -prix_fcfa: Integer
        -description: String
        -actif: Boolean
        -preview_content: Text
        +verifierAcces(userId) Boolean
        +activer() void
        +desactiver() void
    }

    %% ========== ENGAGEMENT UTILISATEUR ==========
    class Commentaire {
        -id: Integer PK
        -article_id: Integer FK
        -user_id: Integer FK
        -parent_id: Integer FK
        -texte: Text
        -date_creation: DateTime
        -date_modification: DateTime
        -statut: Enum(en_attente, valide, rejete, signale)
        -likes: Integer
        -spam_score: Float
        +moderer() void
        +repondre() Commentaire
        +signaler() void
        +verifierSpam() Boolean
    }

    class Favori {
        -id: Integer PK
        -user_id: Integer FK
        -article_id: Integer FK
        -date_ajout: DateTime
        -collection: String
        -notes_privees: Text
        +ajouterCollection(nom) void
        +retirer() void
    }

    class AbonnementNewsletter {
        -id: Integer PK
        -email: String
        -preferences_rubriques: JSON
        -langue: String
        -frequence: Enum(quotidien, hebdomadaire, mensuel)
        -date_inscription: DateTime
        -statut: Enum(actif, inactif, desabonne)
        -token_confirmation: String
        -double_optin: Boolean
        +confirmer() void
        +desabonner() void
        +mettreAJourPreferences() void
    }

    class Recommandation {
        -id: Integer PK
        -article_id: Integer FK
        -user_id: Integer FK
        -score_ia: Float
        -raison: String
        -algorithme: Enum(collaborative, content_based, hybrid)
        -date_generation: DateTime
        -affiche: Boolean
        -clique: Boolean
        +generer() void
        +enregistrerClic() void
        +recalculer() void
    }

    %% ========== SÉCURITÉ & PERFORMANCE ==========
    class SSOConfig {
        -id: Integer PK
        -provider: Enum(Google, Microsoft, Facebook, Apple)
        -client_id: String
        -client_secret: String
        -redirect_url: String
        -active: Boolean
        -scopes: JSON
        +authentifier(token) User
        +synchroniser() void
    }

    class RateLimit {
        -id: Integer PK
        -ip_address: String
        -endpoint: String
        -requests_count: Integer
        -requests_per_min: Integer
        -blocked_until: DateTime
        -window_start: DateTime
        +verifierLimite() Boolean
        +bloquer() void
        +debloquer() void
    }

    class WCAGAudit {
        -id: Integer PK
        -page_id: Integer FK
        -score_aa: Integer
        -score_aaa: Integer
        -issues_json: JSON
        -last_audit: DateTime
        -auto_fix_available: Boolean
        +auditer() void
        +genererRapport() File
        +appliquerCorrections() void
    }

    class CDNConfig {
        -id: Integer PK
        -provider: Enum(Cloudflare, AWS_CloudFront, DigitalOcean)
        -cache_rules: JSON
        -edge_location: String
        -ttl_secondes: Integer
        -purge_on_update: Boolean
        +purgerCache() void
        +configurerRegles() void
    }

    %% ========== MAINTENANCE & OPÉRATIONS ==========
    class TicketSupport {
        -id: Integer PK
        -user_id: Integer FK
        -type: Enum(bug, feature, question, incident)
        -titre: String
        -description: Text
        -statut: Enum(ouvert, en_cours, ferme, resolu)
        -priorite: Enum(basse, moyenne, haute, critique)
        -resolution_time: Integer
        -assigne_a: Integer FK
        -sla_deadline: DateTime
        -date_creation: DateTime
        -date_resolution: DateTime
        +assigner(userId) void
        +resoudre() void
        +escalader() void
    }

    class MaintenanceTask {
        -id: Integer PK
        -type: Enum(corrective, preventive, perfective, adaptive)
        -description: Text
        -date_planifiee: DateTime
        -date_execution: DateTime
        -statut: Enum(planifie, en_cours, termine, annule)
        -heures_travaillees: Float
        -responsable_id: Integer FK
        +planifier() void
        +executer() void
        +reporter() void
    }

    class Backup {
        -id: Integer PK
        -type: Enum(database, fichiers, complet, incremental)
        -fichier_url: String
        -taille: Integer
        -date_creation: DateTime
        -succes: Boolean
        -duree_secondes: Integer
        -retention_jours: Integer
        -checksum: String
        +creer() void
        +restaurer() void
        +verifierIntegrite() Boolean
    }

    class SystemLog {
        -id: Integer PK
        -niveau: Enum(ERROR, WARN, INFO, DEBUG)
        -message: Text
        -timestamp: DateTime
        -user_id: Integer FK
        -ip_address: String
        -entite_type: String
        -entite_id: Integer
        -action: String
        -stack_trace: Text
        +enregistrer() void
        +nettoyer(jours) void
        +analyser() List~Pattern~
    }

    class PerformanceMetric {
        -id: Integer PK
        -metric_type: Enum(cpu, ram, disk, network, response_time, db_query)
        -valeur: Float
        -unite: String
        -timestamp: DateTime
        -serveur_id: String
        -threshold_alerte: Float
        +collecter() void
        +analyser() void
        +alerter() void
    }

    class ContratMaintenance {
        -id: Integer PK
        -client_id: Integer FK
        -pack: Enum(standard, premium, enterprise)
        -date_debut: DateTime
        -date_fin: DateTime
        -heures_mensuelles: Integer
        -heures_restantes: Integer
        -cout_mensuel: Integer
        -sla_response_time: Integer
        +consommerHeures(heures) void
        +renouveler() void
        +genererRapport() File
    }

    %% ========== ÉDITEUR RÉSILIENT ==========
    class DraftSession {
        -id: Integer PK
        -user_id: Integer FK
        -article_id: Integer FK
        -session_id: String
        -data_json: JSON
        -last_save: DateTime
        -device_fingerprint: String
        -synced: Boolean
        -version: Integer
        +sauvegarderDelta() void
        +restaurer() void
        +synchroniser() void
        +fusionnerConflits() void
    }

    class EditorState {
        -id: Integer PK
        -draft_session_id: Integer FK
        -bloc_id: Integer FK
        -delta_operations: JSON
        -version: Integer
        -timestamp: DateTime
        -user_id: Integer FK
        +appliquerDelta() void
        +annuler() void
        +refaire() void
    }

    class OfflineQueue {
        -id: Integer PK
        -user_id: Integer FK
        -action_type: String
        -payload: JSON
        -queued_at: DateTime
        -synced: Boolean
        -retry_count: Integer
        -last_error: String
        +ajouter() void
        +synchroniser() void
        +retry() void
    }

    class RecoveryPoint {
        -id: Integer PK
        -draft_session_id: Integer FK
        -snapshot_json: JSON
        -label: String
        -auto_interval: Boolean
        -date_creation: DateTime
        +creer() void
        +restaurer() void
        +comparer(pointId) JSON
    }

    class ContentVersion {
        -id: Integer PK
        -article_id: Integer FK
        -version_num: Integer
        -changes_diff: JSON
        -author_id: Integer FK
        -timestamp: DateTime
        -restore_point: Boolean
        -commentaire: String
        -taille_diff_kb: Float
        +creerVersion() void
        +restaurerVersion() void
        +comparer(versionId) JSON
    }

    %% ========== AUTRES SUPPORT ==========
    class AuditLog {
        -id: Integer PK
        -user_id: Integer FK
        -action: Enum(create, update, delete, view, download)
        -entite_type: String
        -entite_id: Integer
        -valeurs_avant: JSON
        -valeurs_apres: JSON
        -timestamp: DateTime
        -ip_address: String
        -user_agent: String
        +enregistrer() void
        +exporter() File
        +anonymiser() void
    }

    class Cache {
        -id: Integer PK
        -cle: String
        -data: JSON
        -expiration: DateTime
        -hits: Integer
        -misses: Integer
        -size_bytes: Integer
        -tags: JSON
        +get(cle) JSON
        +set(cle, data, ttl) void
        +invalider(cle) void
        +invaliderParTag(tag) void
        +nettoyer() void
    }

    class Archive {
        -id: Integer PK
        -article_id: Integer FK
        -version_num: Integer
        -contenu_archive: JSON
        -date_archive: DateTime
        -taille_compresse: Integer
        -raison: String
        +archiver() void
        +restaurer() void
    }

    class AnalyticsSession {
        -id: Integer PK
        -session_id: String
        -user_id: Integer FK
        -user_agent: String
        -ip_address: String
        -pages_vues: JSON
        -duree_session: Integer
        -entree_url: String
        -sortie_url: String
        -conversions: Integer
        -date_debut: DateTime
        -date_fin: DateTime
        +enregistrerPageVue() void
        +terminer() void
        +calculerConversion() Float
    }

    class Region {
        -id: Integer PK
        -nom_pays: String
        -code_iso: String
        -continent: String
        -langue_principale: String
        -devise: String
        -fuseau_horaire: String
        +obtenirArticlesRegion() List~Article~
        +obtenirStatistiques() JSON
    }

    class ArticleTag {
        -article_id: Integer FK
        -tag_id: Integer FK
        -date_ajout: DateTime
        -score_relevance: Float
    }

    %% ========== RELATIONS PRINCIPALES ==========
    Administrateur --|> Utilisateur : hérite
    
    %% Relations Utilisateur
    Utilisateur 1 --o 0..* Article
    Utilisateur 1 --o 0..* Commentaire
    Utilisateur 1 --o 0..* Favori
    Utilisateur 1 --o 0..* TicketSupport
    Utilisateur 1 --o 0..* DraftSession
    Utilisateur 1 --o 0..* VueArticle
    Utilisateur 1 --o 0..* AbonnementPayant
    Utilisateur 1 --o 0..* MediaFile
    Utilisateur 1 --o 0..1 UserPreference
    
    %% Relations Article
    Article 1 --o 0..* BlocContenu
    Article 1 --o 0..1 Statistiques
    Article 1 --o 0..* VueArticle
    Article 1 --o 0..* Commentaire
    Article 1 --o 0..* Favori
    Article 1 --o 0..* PartageArticle
    Article 1 --o 0..* Traduction
    Article 1 --o 0..* ContentVersion
    Article 1 --o 0..* Archive
    Article 1 --o 0..1 Paywall
    Article 1 --o 0..1 SEOConfig
    Article 1 --o 0..1 ProduitPremium
    Article 1 --o 0..* FeaturedItem
    Article 0..* --o 1 Rubrique
    Article 0..* --o 0..* Tag
    
    %% ========== PARTAGE ET NOTIFICATIONS ==========
    class PartageConfig {
        -id: Integer PK
        -article_id: Integer FK
        -url_courte: String
        -qr_code_url: String
        -og_image_url: String
        -og_title: String
        -og_description: String
        -twitter_card: String
        -whatsapp_text: String
        -partages_total: Integer
        +genererLienCourt() String
        +genererQRCode() String
        +genererMetasTags() JSON
        +incrementerPartages() void
    }

    class LienPartage {
        -id: Integer PK
        -article_id: Integer FK
        -user_id: Integer FK
        -code_unique: String
        -url_complete: String
        -plateforme_cible: Enum(facebook, twitter, whatsapp, linkedin, email, sms, copy)
        -clics: Integer
        -conversions: Integer
        -date_creation: DateTime
        -expire_le: DateTime
        +genererLien() String
        +tracker() void
        +analyserPerformance() JSON
    }

    class Notification {
        -id: Integer PK
        -user_id: Integer FK
        -type: Enum(nouveau_article, commentaire, reponse, favori, newsletter, boost, admin)
        -titre: String
        -message: Text
        -lien_action: String
        -icone: String
        -priorite: Enum(basse, normale, haute, urgente)
        -lu: Boolean
        -date_envoi: DateTime
        -date_lecture: DateTime
        -data_json: JSON
        +envoyer() void
        +marquerCommeLu() void
        +supprimer() void
    }

    class NotificationPreference {
        -id: Integer PK
        -user_id: Integer FK
        -email_actif: Boolean
        -push_actif: Boolean
        -sms_actif: Boolean
        -nouveau_article: Boolean
        -nouveau_commentaire: Boolean
        -reponse_commentaire: Boolean
        -article_favori: Boolean
        -newsletter: Boolean
        -frequence: Enum(immediat, quotidien, hebdomadaire, jamais)
        +mettreAJour() void
        +desactiverTout() void
    }

    class PushNotification {
        -id: Integer PK
        -notification_id: Integer FK
        -device_token: String
        -platform: Enum(web, ios, android)
        -statut: Enum(pending, sent, delivered, failed, clicked)
        -payload: JSON
        -date_envoi: DateTime
        -date_delivery: DateTime
        -error_message: String
        +envoyer() void
        +retenter() void
    }

    class EmailNotification {
        -id: Integer PK
        -notification_id: Integer FK
        -destinataire: String
        -sujet: String
        -corps_html: Text
        -corps_texte: Text
        -statut: Enum(pending, sent, delivered, bounced, opened)
        -date_envoi: DateTime
        -date_ouverture: DateTime
        +envoyer() void
        +trackerOuverture() void
    }

    class NotificationTemplate {
        -id: Integer PK
        -type: Enum(nouveau_article, commentaire, reponse, newsletter)
        -langue_id: Integer FK
        -sujet_template: String
        -corps_template: Text
        -variables: JSON
        -actif: Boolean
        +render(data) String
        +previsualiser() String
    }

    class DeviceToken {
        -id: Integer PK
        -user_id: Integer FK
        -token: String
        -platform: Enum(web, ios, android)
        -navigateur: String
        -actif: Boolean
        -date_enregistrement: DateTime
        -derniere_utilisation: DateTime
        +enregistrer() void
        +desactiver() void
    }

    %% Relations BlocContenu & Médias
    BlocContenu 0..1 --o 0..* BlocContenu
    BlocContenu 0..* --o 0..1 MediaFile
    BlocContenu 1 --o 0..* MediaUsage
    
    %% Relations Médias
    MediaFile 1 --o 0..* MediaVariant
    MediaFile 1 --o 0..* MediaUsage
    MediaFile 1 --o 0..* MediaProcessingJob
    MediaFile 1 --o 0..1 MediaLicense
    MediaFile 1 --o 0..* VideoStream
    MediaFile 1 --o 0..* AudioTrack
    MediaFile 1 --o 0..* DocumentPreview
    MediaFile 1 --o 0..* TelechargementMedia
    
    %% Relations Rubriques
    Rubrique 0..1 --o 0..* Rubrique
    
    %% Relations Commentaires
    Commentaire 0..1 --o 0..* Commentaire
    
    %% Relations Multilingue
    Traduction 0..* --o 1 Langue
    LangueContenu 0..* --o 1 Langue
    Menu 0..* --o 1 Langue
    
    %% Relations Homepage
    FeaturedItem 0..* --o 1 Article
    FeaturedItem 1 --o 0..* CarouselSlide
    BoostRule 0..* --o 0..1 Region
    CategoryFilter 0..* --o 1 Rubrique
    
    %% Relations SEO
    SEOConfig 0..* --o 0..1 Article
    SEOConfig 0..* --o 0..1 Page
    
    %% Relations DraftSession
    DraftSession 1 --o 0..* EditorState
    DraftSession 1 --o 0..* RecoveryPoint
    
    %% Relations E-Commerce
    Panier 0..* --o 1 Utilisateur
    Paiement 0..* --o 1 Panier
    Transaction 0..* --o 1 Paiement
    Transaction 0..* --o 0..1 AbonnementPayant
    
    %% Relations Tags
    ArticleTag 0..* --o 1 Article
    ArticleTag 0..* --o 1 Tag
    
    %% Relations Partage
    Article 1 --o 0..1 PartageConfig
    Article 1 --o 0..* LienPartage
    LienPartage 0..* --o 1 Utilisateur
    
    %% Relations Notifications
    Utilisateur 1 --o 0..* Notification
    Utilisateur 1 --o 0..1 NotificationPreference
    Utilisateur 1 --o 0..* DeviceToken
    Notification 1 --o 0..1 PushNotification
    Notification 1 --o 0..1 EmailNotification
    NotificationTemplate 0..* --o 1 Langue