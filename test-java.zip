{"files":{"controller/UserController.java":"package com.test.controller;\n\nimport com.test.entity.User;\nimport com.test.service.UserService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\nimport java.util.List;\n\n@RestController\n@RequestMapping(\"/api/users\")\n@RequiredArgsConstructor\npublic class UserController {\n\n    private final UserService service;\n\n    @GetMapping\n    public List<User> findAll() {\n        return service.findAll();\n    }\n\n    @GetMapping(\"/{id}\")\n    public ResponseEntity<User> findById(@PathVariable Long id) {\n        return service.findById(id)\n            .map(ResponseEntity::ok)\n            .orElse(ResponseEntity.notFound().build());\n    }\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public User create(@RequestBody User entity) {\n        return service.save(entity);\n    }\n\n    @PutMapping(\"/{id}\")\n    public ResponseEntity<User> update(@PathVariable Long id, @RequestBody User entity) {\n        if (service.findById(id).isPresent()) {\n            return ResponseEntity.ok(service.save(entity));\n        }\n        return ResponseEntity.notFound().build();\n    }\n\n    @DeleteMapping(\"/{id}\")\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void delete(@PathVariable Long id) {\n        service.deleteById(id);\n    }\n\n    @PatchMapping(\"/{id}/suspend\")\n    public ResponseEntity<User> suspend(@PathVariable Long id) {\n        return ResponseEntity.ok(service.suspendUser(id));\n    }\n\n    @PatchMapping(\"/{id}/activate\")\n    public ResponseEntity<User> activate(@PathVariable Long id) {\n        return ResponseEntity.ok(service.activateUser(id));\n    }\n\n}\n","enums/UserStatus.java":"package com.test.enums;\n\npublic enum UserStatus {\n    ACTIVE,\n    SUSPENDED\n}\n","entity/User.java":"package com.test.entity;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\nimport com.test.enums.UserStatus;\n\n@Entity\n@Table(name = \"users\")\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column\n    private UUID id;\n\n    @Column\n    private String username;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = \"status\")\n    private UserStatus status;\n\n    @Column(name = \"created_at\")\n    private LocalDateTime createdAt;\n\n    @Column(name = \"updated_at\")\n    private LocalDateTime updatedAt;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public UserStatus getStatus() {\n        return status;\n    }\n\n    public void setStatus(UserStatus status) {\n        this.status = status;\n    }\n\n    public LocalDateTime getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDateTime createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public LocalDateTime getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(LocalDateTime updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    public void suspend() {\n        if (this.status != UserStatus.ACTIVE) {\n            throw new IllegalStateException(\"Cannot suspend user in state: \" + this.status);\n        }\n        this.status = UserStatus.SUSPENDED;\n    }\n\n    public void activate() {\n        if (this.status != UserStatus.SUSPENDED) {\n            throw new IllegalStateException(\"Cannot activate user in state: \" + this.status);\n        }\n        this.status = UserStatus.ACTIVE;\n    }\n\n}\n","service/UserService.java":"package com.test.service;\n\nimport com.test.entity.User;\nimport com.test.repository.UserRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\nimport java.util.List;\nimport java.util.Optional;\n\nimport com.test.enums.UserStatus;\n\n@Service\n@RequiredArgsConstructor\n@Transactional\npublic class UserService {\n\n    private final UserRepository repository;\n\n    public List<User> findAll() {\n        return repository.findAll();\n    }\n\n    public Optional<User> findById(Long id) {\n        return repository.findById(id);\n    }\n\n    public User save(User entity) {\n        return repository.save(entity);\n    }\n\n    public void deleteById(Long id) {\n        repository.deleteById(id);\n    }\n\n    public User suspendUser(Long id) {\n        User entity = repository.findById(id)\n            .orElseThrow(() -> new RuntimeException(\"User not found with id: \" + id));\n        entity.suspend();\n        return repository.save(entity);\n    }\n\n    public User activateUser(Long id) {\n        User entity = repository.findById(id)\n            .orElseThrow(() -> new RuntimeException(\"User not found with id: \" + id));\n        entity.activate();\n        return repository.save(entity);\n    }\n\n}\n","db/migration/V001__Initial_Schema.sql":"-- Generated database migration\n-- Package: com.test\n\nCREATE TABLE users (\n    id VARCHAR(255) PRIMARY KEY AUTO_INCREMENT,\n    username VARCHAR(255),\n    status VARCHAR(50),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n","repository/UserRepository.java":"package com.test.repository;\n\nimport com.test.entity.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository<User, Long> {\n    // Custom query methods can be added here\n}\n","README.md":"# Generated Application\n\nThis application was generated from UML diagrams using the modular code generator.\n\n## Architecture\n\n- **Entities**: Domain models with state management\n- **Repositories**: Data access layer\n- **Services**: Business logic layer\n- **Controllers**: REST API endpoints\n\n## Generated Classes\n\n### User\n- **Stateful entity** with state transitions\n\n"},"packageName":null,"language":null,"generatedFiles":{"controller/UserController.java":"package com.test.controller;\n\nimport com.test.entity.User;\nimport com.test.service.UserService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\nimport java.util.List;\n\n@RestController\n@RequestMapping(\"/api/users\")\n@RequiredArgsConstructor\npublic class UserController {\n\n    private final UserService service;\n\n    @GetMapping\n    public List<User> findAll() {\n        return service.findAll();\n    }\n\n    @GetMapping(\"/{id}\")\n    public ResponseEntity<User> findById(@PathVariable Long id) {\n        return service.findById(id)\n            .map(ResponseEntity::ok)\n            .orElse(ResponseEntity.notFound().build());\n    }\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public User create(@RequestBody User entity) {\n        return service.save(entity);\n    }\n\n    @PutMapping(\"/{id}\")\n    public ResponseEntity<User> update(@PathVariable Long id, @RequestBody User entity) {\n        if (service.findById(id).isPresent()) {\n            return ResponseEntity.ok(service.save(entity));\n        }\n        return ResponseEntity.notFound().build();\n    }\n\n    @DeleteMapping(\"/{id}\")\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void delete(@PathVariable Long id) {\n        service.deleteById(id);\n    }\n\n    @PatchMapping(\"/{id}/suspend\")\n    public ResponseEntity<User> suspend(@PathVariable Long id) {\n        return ResponseEntity.ok(service.suspendUser(id));\n    }\n\n    @PatchMapping(\"/{id}/activate\")\n    public ResponseEntity<User> activate(@PathVariable Long id) {\n        return ResponseEntity.ok(service.activateUser(id));\n    }\n\n}\n","enums/UserStatus.java":"package com.test.enums;\n\npublic enum UserStatus {\n    ACTIVE,\n    SUSPENDED\n}\n","entity/User.java":"package com.test.entity;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\nimport com.test.enums.UserStatus;\n\n@Entity\n@Table(name = \"users\")\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column\n    private UUID id;\n\n    @Column\n    private String username;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = \"status\")\n    private UserStatus status;\n\n    @Column(name = \"created_at\")\n    private LocalDateTime createdAt;\n\n    @Column(name = \"updated_at\")\n    private LocalDateTime updatedAt;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public UserStatus getStatus() {\n        return status;\n    }\n\n    public void setStatus(UserStatus status) {\n        this.status = status;\n    }\n\n    public LocalDateTime getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDateTime createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public LocalDateTime getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(LocalDateTime updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    public void suspend() {\n        if (this.status != UserStatus.ACTIVE) {\n            throw new IllegalStateException(\"Cannot suspend user in state: \" + this.status);\n        }\n        this.status = UserStatus.SUSPENDED;\n    }\n\n    public void activate() {\n        if (this.status != UserStatus.SUSPENDED) {\n            throw new IllegalStateException(\"Cannot activate user in state: \" + this.status);\n        }\n        this.status = UserStatus.ACTIVE;\n    }\n\n}\n","service/UserService.java":"package com.test.service;\n\nimport com.test.entity.User;\nimport com.test.repository.UserRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\nimport java.util.List;\nimport java.util.Optional;\n\nimport com.test.enums.UserStatus;\n\n@Service\n@RequiredArgsConstructor\n@Transactional\npublic class UserService {\n\n    private final UserRepository repository;\n\n    public List<User> findAll() {\n        return repository.findAll();\n    }\n\n    public Optional<User> findById(Long id) {\n        return repository.findById(id);\n    }\n\n    public User save(User entity) {\n        return repository.save(entity);\n    }\n\n    public void deleteById(Long id) {\n        repository.deleteById(id);\n    }\n\n    public User suspendUser(Long id) {\n        User entity = repository.findById(id)\n            .orElseThrow(() -> new RuntimeException(\"User not found with id: \" + id));\n        entity.suspend();\n        return repository.save(entity);\n    }\n\n    public User activateUser(Long id) {\n        User entity = repository.findById(id)\n            .orElseThrow(() -> new RuntimeException(\"User not found with id: \" + id));\n        entity.activate();\n        return repository.save(entity);\n    }\n\n}\n","db/migration/V001__Initial_Schema.sql":"-- Generated database migration\n-- Package: com.test\n\nCREATE TABLE users (\n    id VARCHAR(255) PRIMARY KEY AUTO_INCREMENT,\n    username VARCHAR(255),\n    status VARCHAR(50),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n","repository/UserRepository.java":"package com.test.repository;\n\nimport com.test.entity.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository<User, Long> {\n    // Custom query methods can be added here\n}\n","README.md":"# Generated Application\n\nThis application was generated from UML diagrams using the modular code generator.\n\n## Architecture\n\n- **Entities**: Domain models with state management\n- **Repositories**: Data access layer\n- **Services**: Business logic layer\n- **Controllers**: REST API endpoints\n\n## Generated Classes\n\n### User\n- **Stateful entity** with state transitions\n\n"}}