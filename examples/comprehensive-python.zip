{"files":{"routers/OrderController.java":"from fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.orm import Session\nfrom typing import List\nfrom models.order import Order\nfrom services.order_service import OrderService\nfrom database import get_db\n\nrouter = APIRouter(prefix='/api/orders', tags=['orders'])\n\n@router.get('/', response_model=List[Order])\ndef get_all_orders(db: Session = Depends(get_db)):\n    service = OrderService(db)\n    return service.get_all()\n\n@router.get('/{id}', response_model=Order)\ndef get_order(id: int, db: Session = Depends(get_db)):\n    service = OrderService(db)\n    entity = service.get_by_id(id)\n    if not entity:\n        raise HTTPException(status_code=404, detail='Order not found')\n    return entity\n\n@router.post('/', response_model=Order, status_code=201)\ndef create_order(entity: Order, db: Session = Depends(get_db)):\n    service = OrderService(db)\n    return service.create(entity)\n\n@router.delete('/{id}', status_code=204)\ndef delete_order(id: int, db: Session = Depends(get_db)):\n    service = OrderService(db)\n    if not service.delete(id):\n        raise HTTPException(status_code=404, detail='Order not found')\n\n@router.patch('/{id}/suspend', response_model=Order)\ndef suspend_order(id: int, db: Session = Depends(get_db)):\n    service = OrderService(db)\n    try:\n        return service.suspend_order(id)\n    except ValueError as e:\n        raise HTTPException(status_code=400, detail=str(e))\n\n@router.patch('/{id}/activate', response_model=Order)\ndef activate_order(id: int, db: Session = Depends(get_db)):\n    service = OrderService(db)\n    try:\n        return service.activate_order(id)\n    except ValueError as e:\n        raise HTTPException(status_code=400, detail=str(e))\n","repositories/OrderRepository.java":"# Repository pattern implementation for Order\nfrom sqlalchemy.orm import Session\nfrom typing import List, Optional\nfrom models.order import Order\n\nclass OrderRepository:\n    def __init__(self, db: Session):\n        self.db = db\n\n    def find_all(self) -> List[Order]:\n        return self.db.query(Order).all()\n\n    def find_by_id(self, id: int) -> Optional[Order]:\n        return self.db.query(Order).filter(Order.id == id).first()\n\n    def save(self, entity: Order) -> Order:\n        self.db.add(entity)\n        self.db.commit()\n        self.db.refresh(entity)\n        return entity\n\n    def delete_by_id(self, id: int) -> bool:\n        entity = self.find_by_id(id)\n        if entity:\n            self.db.delete(entity)\n            self.db.commit()\n            return True\n        return False\n","migrations/V001__Initial_Schema.sql":"# Database migration for com.example.orders\nfrom alembic import op\nimport sqlalchemy as sa\n\ndef upgrade():\n    # Create Order table\n    op.create_table('orders',\n        sa.Column('id', sa.Integer(), primary_key=True, autoincrement=True),\n        sa.Column('customerEmail', sa.String(255)),\n        sa.Column('total', sa.Float()),\n        sa.Column('status', sa.String(255)),\n        sa.Column('status', sa.String(50), default='ACTIVE'),\n        sa.Column('created_at', sa.DateTime(), default=sa.func.now()),\n        sa.Column('updated_at', sa.DateTime(), default=sa.func.now(), onupdate=sa.func.now())\n    )\n\ndef downgrade():\n    op.drop_table('orders')\n","services/OrderService.java":"from sqlalchemy.orm import Session\nfrom typing import List, Optional\nfrom models.order import Order\n\nclass OrderService:\n    def __init__(self, db: Session):\n        self.db = db\n\n    def get_all(self) -> List[Order]:\n        return self.db.query(Order).all()\n\n    def get_by_id(self, id: int) -> Optional[Order]:\n        return self.db.query(Order).filter(Order.id == id).first()\n\n    def create(self, entity: Order) -> Order:\n        self.db.add(entity)\n        self.db.commit()\n        self.db.refresh(entity)\n        return entity\n\n    def delete(self, id: int) -> bool:\n        entity = self.get_by_id(id)\n        if entity:\n            self.db.delete(entity)\n            self.db.commit()\n            return True\n        return False\n\n    def suspend_order(self, id: int) -> Order:\n        entity = self.get_by_id(id)\n        if not entity:\n            raise ValueError(f'Order not found with id: {id}')\n        entity.suspend()\n        self.db.commit()\n        return entity\n\n    def activate_order(self, id: int) -> Order:\n        entity = self.get_by_id(id)\n        if not entity:\n            raise ValueError(f'Order not found with id: {id}')\n        entity.activate()\n        self.db.commit()\n        return entity\n","enums/OrderStatus.py":"","models/Order.py":"from sqlalchemy import Column, Integer, String, DateTime, Enum\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom datetime import datetime\nfrom enum import Enum as PyEnum\n\nclass OrderStatus(PyEnum):\n    CONFIRMED : CONFIRM() = \"CONFIRMED : CONFIRM()\"\n    CONFIRMED = \"CONFIRMED\"\n    INITIAL = \"INITIAL\"\n    DELIVERED : DELIVER() = \"DELIVERED : DELIVER()\"\n    PENDING = \"PENDING\"\n    SHIPPED : SHIP() = \"SHIPPED : SHIP()\"\n    SHIPPED = \"SHIPPED\"\n\nBase = declarative_base()\n\nclass Order(Base):\n    __tablename__ = 'orders'\n\n    id = Column(Integer, primary_key=True, autoincrement=True)\n    customerEmail = Column(String)\n    total = Column(Float)\n    status = Column(String)\n    status = Column(Enum(OrderStatus), default=OrderStatus.ACTIVE)\n    created_at = Column(DateTime, default=datetime.utcnow)\n    updated_at = Column(DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n\n    def suspend(self):\n        if self.status != OrderStatus.ACTIVE:\n            raise ValueError(f'Cannot suspend user in state: {self.status}')\n        self.status = OrderStatus.SUSPENDED\n\n    def activate(self):\n        if self.status != OrderStatus.SUSPENDED:\n            raise ValueError(f'Cannot activate user in state: {self.status}')\n        self.status = OrderStatus.ACTIVE\n","README.md":"# Generated Application\n\nThis application was generated from UML diagrams using the modular code generator.\n\n## Architecture\n\n- **Entities**: Domain models with state management\n- **Repositories**: Data access layer\n- **Services**: Business logic layer\n- **Controllers**: REST API endpoints\n\n## Generated Classes\n\n### Order\n- **Stateful entity** with state transitions\n\n"},"packageName":null,"language":null,"generatedFiles":{"routers/OrderController.java":"from fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.orm import Session\nfrom typing import List\nfrom models.order import Order\nfrom services.order_service import OrderService\nfrom database import get_db\n\nrouter = APIRouter(prefix='/api/orders', tags=['orders'])\n\n@router.get('/', response_model=List[Order])\ndef get_all_orders(db: Session = Depends(get_db)):\n    service = OrderService(db)\n    return service.get_all()\n\n@router.get('/{id}', response_model=Order)\ndef get_order(id: int, db: Session = Depends(get_db)):\n    service = OrderService(db)\n    entity = service.get_by_id(id)\n    if not entity:\n        raise HTTPException(status_code=404, detail='Order not found')\n    return entity\n\n@router.post('/', response_model=Order, status_code=201)\ndef create_order(entity: Order, db: Session = Depends(get_db)):\n    service = OrderService(db)\n    return service.create(entity)\n\n@router.delete('/{id}', status_code=204)\ndef delete_order(id: int, db: Session = Depends(get_db)):\n    service = OrderService(db)\n    if not service.delete(id):\n        raise HTTPException(status_code=404, detail='Order not found')\n\n@router.patch('/{id}/suspend', response_model=Order)\ndef suspend_order(id: int, db: Session = Depends(get_db)):\n    service = OrderService(db)\n    try:\n        return service.suspend_order(id)\n    except ValueError as e:\n        raise HTTPException(status_code=400, detail=str(e))\n\n@router.patch('/{id}/activate', response_model=Order)\ndef activate_order(id: int, db: Session = Depends(get_db)):\n    service = OrderService(db)\n    try:\n        return service.activate_order(id)\n    except ValueError as e:\n        raise HTTPException(status_code=400, detail=str(e))\n","repositories/OrderRepository.java":"# Repository pattern implementation for Order\nfrom sqlalchemy.orm import Session\nfrom typing import List, Optional\nfrom models.order import Order\n\nclass OrderRepository:\n    def __init__(self, db: Session):\n        self.db = db\n\n    def find_all(self) -> List[Order]:\n        return self.db.query(Order).all()\n\n    def find_by_id(self, id: int) -> Optional[Order]:\n        return self.db.query(Order).filter(Order.id == id).first()\n\n    def save(self, entity: Order) -> Order:\n        self.db.add(entity)\n        self.db.commit()\n        self.db.refresh(entity)\n        return entity\n\n    def delete_by_id(self, id: int) -> bool:\n        entity = self.find_by_id(id)\n        if entity:\n            self.db.delete(entity)\n            self.db.commit()\n            return True\n        return False\n","migrations/V001__Initial_Schema.sql":"# Database migration for com.example.orders\nfrom alembic import op\nimport sqlalchemy as sa\n\ndef upgrade():\n    # Create Order table\n    op.create_table('orders',\n        sa.Column('id', sa.Integer(), primary_key=True, autoincrement=True),\n        sa.Column('customerEmail', sa.String(255)),\n        sa.Column('total', sa.Float()),\n        sa.Column('status', sa.String(255)),\n        sa.Column('status', sa.String(50), default='ACTIVE'),\n        sa.Column('created_at', sa.DateTime(), default=sa.func.now()),\n        sa.Column('updated_at', sa.DateTime(), default=sa.func.now(), onupdate=sa.func.now())\n    )\n\ndef downgrade():\n    op.drop_table('orders')\n","services/OrderService.java":"from sqlalchemy.orm import Session\nfrom typing import List, Optional\nfrom models.order import Order\n\nclass OrderService:\n    def __init__(self, db: Session):\n        self.db = db\n\n    def get_all(self) -> List[Order]:\n        return self.db.query(Order).all()\n\n    def get_by_id(self, id: int) -> Optional[Order]:\n        return self.db.query(Order).filter(Order.id == id).first()\n\n    def create(self, entity: Order) -> Order:\n        self.db.add(entity)\n        self.db.commit()\n        self.db.refresh(entity)\n        return entity\n\n    def delete(self, id: int) -> bool:\n        entity = self.get_by_id(id)\n        if entity:\n            self.db.delete(entity)\n            self.db.commit()\n            return True\n        return False\n\n    def suspend_order(self, id: int) -> Order:\n        entity = self.get_by_id(id)\n        if not entity:\n            raise ValueError(f'Order not found with id: {id}')\n        entity.suspend()\n        self.db.commit()\n        return entity\n\n    def activate_order(self, id: int) -> Order:\n        entity = self.get_by_id(id)\n        if not entity:\n            raise ValueError(f'Order not found with id: {id}')\n        entity.activate()\n        self.db.commit()\n        return entity\n","enums/OrderStatus.py":"","models/Order.py":"from sqlalchemy import Column, Integer, String, DateTime, Enum\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom datetime import datetime\nfrom enum import Enum as PyEnum\n\nclass OrderStatus(PyEnum):\n    CONFIRMED : CONFIRM() = \"CONFIRMED : CONFIRM()\"\n    CONFIRMED = \"CONFIRMED\"\n    INITIAL = \"INITIAL\"\n    DELIVERED : DELIVER() = \"DELIVERED : DELIVER()\"\n    PENDING = \"PENDING\"\n    SHIPPED : SHIP() = \"SHIPPED : SHIP()\"\n    SHIPPED = \"SHIPPED\"\n\nBase = declarative_base()\n\nclass Order(Base):\n    __tablename__ = 'orders'\n\n    id = Column(Integer, primary_key=True, autoincrement=True)\n    customerEmail = Column(String)\n    total = Column(Float)\n    status = Column(String)\n    status = Column(Enum(OrderStatus), default=OrderStatus.ACTIVE)\n    created_at = Column(DateTime, default=datetime.utcnow)\n    updated_at = Column(DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n\n    def suspend(self):\n        if self.status != OrderStatus.ACTIVE:\n            raise ValueError(f'Cannot suspend user in state: {self.status}')\n        self.status = OrderStatus.SUSPENDED\n\n    def activate(self):\n        if self.status != OrderStatus.SUSPENDED:\n            raise ValueError(f'Cannot activate user in state: {self.status}')\n        self.status = OrderStatus.ACTIVE\n","README.md":"# Generated Application\n\nThis application was generated from UML diagrams using the modular code generator.\n\n## Architecture\n\n- **Entities**: Domain models with state management\n- **Repositories**: Data access layer\n- **Services**: Business logic layer\n- **Controllers**: REST API endpoints\n\n## Generated Classes\n\n### Order\n- **Stateful entity** with state transitions\n\n"}}