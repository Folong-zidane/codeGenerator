{"files":{"Services/UserService.java":"using com.example.csharp.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nusing com.example.csharp.Enums;\n\nnamespace com.example.csharp.Services\n{\n    public interface IUserService\n    {\n        Task<IEnumerable<User>> GetAllAsync();\n        Task<User?> GetByIdAsync(int id);\n        Task<User> CreateAsync(User entity);\n        Task<User> UpdateAsync(int id, User entity);\n        Task DeleteAsync(int id);\n        Task<User> SuspendUserAsync(int id);\n        Task<User> ActivateUserAsync(int id);\n    }\n}\n\n\nusing com.example.csharp.Models;\nusing com.example.csharp.Repositories;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing com.example.csharp.Enums;\n\nnamespace com.example.csharp.Services\n{\n    public class UserService : IUserService\n    {\n        private readonly IUserRepository _repository;\n\n        public UserService(IUserRepository repository)\n        {\n            _repository = repository;\n        }\n\n        public async Task<IEnumerable<User>> GetAllAsync()\n        {\n            return await _repository.GetAllAsync();\n        }\n\n        public async Task<User?> GetByIdAsync(int id)\n        {\n            return await _repository.GetByIdAsync(id);\n        }\n\n        public async Task<User> CreateAsync(User entity)\n        {\n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            return await _repository.CreateAsync(entity);\n        }\n\n        public async Task<User> UpdateAsync(int id, User entity)\n        {\n            var existing = await _repository.GetByIdAsync(id);\n            if (existing == null)\n            {\n                throw new ArgumentException($\"User with id {id} not found\");\n            }\n            \n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            // Update properties\n            entity.Id = id;\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var exists = await _repository.ExistsAsync(id);\n            if (!exists)\n            {\n                throw new ArgumentException($\"User with id {id} not found\");\n            }\n            \n            await _repository.DeleteAsync(id);\n        }\n\n        public async Task<User> SuspendUserAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"User with id {id} not found\");\n            }\n            \n            entity.Suspend();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task<User> ActivateUserAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"User with id {id} not found\");\n            }\n            \n            entity.Activate();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        private void ValidateEntity(User entity)\n        {\n            if (entity == null)\n            {\n                throw new ArgumentNullException(nameof(entity));\n            }\n            \n            // Add custom validation logic here\n        }\n    }\n}\n","Data/V001__Initial_Schema.sql":"using com.example.csharp.Models;\nusing Microsoft.EntityFrameworkCore;\nusing System;\n\nnamespace com.example.csharp.Data\n{\n    public class ApplicationDbContext : DbContext\n    {\n        public ApplicationDbContext(DbContextOptions<ApplicationDbContext> options) : base(options)\n        {\n        }\n\n        public DbSet<User> Users { get; set; }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            base.OnModelCreating(modelBuilder);\n\n            // Configure User entity\n            modelBuilder.Entity<User>()\n                .ToTable(\"users\")\n                .HasKey(e => e.Id);\n\n            modelBuilder.Entity<User>()\n                .Property(e => e.Id)\n                .ValueGeneratedOnAdd();\n\n            modelBuilder.Entity<User>()\n                .Property(e => e.CreatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<User>()\n                .Property(e => e.UpdatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<User>()\n                .Property(e => e.Status)\n                .HasConversion<string>();\n\n        }\n\n        public override int SaveChanges()\n        {\n            UpdateAuditFields();\n            return base.SaveChanges();\n        }\n\n        public override async Task<int> SaveChangesAsync(CancellationToken cancellationToken = default)\n        {\n            UpdateAuditFields();\n            return await base.SaveChangesAsync(cancellationToken);\n        }\n\n        private void UpdateAuditFields()\n        {\n            var entries = ChangeTracker.Entries()\n                .Where(e => e.State == EntityState.Added || e.State == EntityState.Modified);\n\n            foreach (var entry in entries)\n            {\n                if (entry.Entity.GetType().GetProperty(\"UpdatedAt\") != null)\n                {\n                    entry.Property(\"UpdatedAt\").CurrentValue = DateTime.UtcNow;\n                }\n\n                if (entry.State == EntityState.Added && entry.Entity.GetType().GetProperty(\"CreatedAt\") != null)\n                {\n                    entry.Property(\"CreatedAt\").CurrentValue = DateTime.UtcNow;\n                }\n            }\n        }\n    }\n}\n\n\n// Startup.cs configuration for com.example.csharp\nusing com.example.csharp.Data;\nusing com.example.csharp.Services;\nusing com.example.csharp.Repositories;\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Configuration;\n\nnamespace com.example.csharp\n{\n    public class Startup\n    {\n        public IConfiguration Configuration { get; }\n\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public void ConfigureServices(IServiceCollection services)\n        {\n            // Add Entity Framework\n            services.AddDbContext<ApplicationDbContext>(options =>\n                options.UseSqlServer(Configuration.GetConnectionString(\"DefaultConnection\")));\n\n            // Add repositories\n            // services.AddScoped<IUserRepository, UserRepository>();\n            // Add more repositories here\n\n            // Add services\n            // services.AddScoped<IUserService, UserService>();\n            // Add more services here\n\n            // Add controllers\n            services.AddControllers();\n\n            // Add Swagger\n            services.AddEndpointsApiExplorer();\n            services.AddSwaggerGen();\n        }\n\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseSwagger();\n                app.UseSwaggerUI();\n            }\n\n            app.UseHttpsRedirection();\n            app.UseRouting();\n            app.UseAuthorization();\n            app.UseEndpoints(endpoints => { endpoints.MapControllers(); });\n        }\n    }\n}\n\n\n// Program.cs for com.example.csharp\nusing com.example.csharp.Data;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace com.example.csharp\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            var builder = WebApplication.CreateBuilder(args);\n\n            // Add services to the container\n            builder.Services.AddDbContext<ApplicationDbContext>(options =>\n                options.UseSqlServer(builder.Configuration.GetConnectionString(\"DefaultConnection\")));\n\n            builder.Services.AddControllers();\n            builder.Services.AddEndpointsApiExplorer();\n            builder.Services.AddSwaggerGen();\n\n            var app = builder.Build();\n\n            // Configure the HTTP request pipeline\n            if (app.Environment.IsDevelopment())\n            {\n                app.UseSwagger();\n                app.UseSwaggerUI();\n            }\n\n            app.UseHttpsRedirection();\n            app.UseAuthorization();\n            app.MapControllers();\n\n            // Ensure database is created\n            using (var scope = app.Services.CreateScope())\n            {\n                var context = scope.ServiceProvider.GetRequiredService<ApplicationDbContext>();\n                context.Database.EnsureCreated();\n            }\n\n            app.Run();\n        }\n    }\n}\n","Repositories/UserRepository.java":"using com.example.csharp.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace com.example.csharp.Repositories\n{\n    public interface IUserRepository\n    {\n        Task<IEnumerable<User>> GetAllAsync();\n        Task<User?> GetByIdAsync(int id);\n        Task<User> CreateAsync(User entity);\n        Task<User> UpdateAsync(User entity);\n        Task DeleteAsync(int id);\n        Task<bool> ExistsAsync(int id);\n    }\n}\n\n\nusing com.example.csharp.Models;\nusing com.example.csharp.Data;\nusing Microsoft.EntityFrameworkCore;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace com.example.csharp.Repositories\n{\n    public class UserRepository : IUserRepository\n    {\n        private readonly ApplicationDbContext _context;\n\n        public UserRepository(ApplicationDbContext context)\n        {\n            _context = context;\n        }\n\n        public async Task<IEnumerable<User>> GetAllAsync()\n        {\n            return await _context.Users.ToListAsync();\n        }\n\n        public async Task<User?> GetByIdAsync(int id)\n        {\n            return await _context.Users.FindAsync(id);\n        }\n\n        public async Task<User> CreateAsync(User entity)\n        {\n            entity.CreatedAt = DateTime.UtcNow;\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Users.Add(entity);\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task<User> UpdateAsync(User entity)\n        {\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Entry(entity).State = EntityState.Modified;\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var entity = await GetByIdAsync(id);\n            if (entity != null)\n            {\n                _context.Users.Remove(entity);\n                await _context.SaveChangesAsync();\n            }\n        }\n\n        public async Task<bool> ExistsAsync(int id)\n        {\n            return await _context.Users.AnyAsync(e => e.Id == id);\n        }\n    }\n}\n","Models/User.cs":"using System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing System;\n\nusing com.example.csharp.Enums;\n\nnamespace com.example.csharp.Models\n{\n    [Table(\"users\")]\n    public class User\n    {\n        [Key]\n        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n        public string Id { get; set; }\n\n        public string Username { get; set; }\n\n        public string Email { get; set; }\n\n        public string Status { get; set; }\n\n        [Column(\"status\")]\n        public UserStatus Status { get; set; }\n\n        [Column(\"created_at\")]\n        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;\n\n        [Column(\"updated_at\")]\n        public DateTime UpdatedAt { get; set; } = DateTime.UtcNow;\n\n        public void Suspend()\n        {\n            if (Status != UserStatus.ACTIVE)\n            {\n                throw new InvalidOperationException($\"Cannot suspend entity in state: {Status}\");\n            }\n            Status = UserStatus.SUSPENDED;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n        public void Activate()\n        {\n            if (Status != UserStatus.SUSPENDED)\n            {\n                throw new InvalidOperationException($\"Cannot activate entity in state: {Status}\");\n            }\n            Status = UserStatus.ACTIVE;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n    }\n}\n","Controllers/UserController.java":"using com.example.csharp.Models;\nusing com.example.csharp.Services;\nusing Microsoft.AspNetCore.Mvc;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing com.example.csharp.Enums;\n\nnamespace com.example.csharp.Controllers\n{\n    [ApiController]\n    [Route(\"api/[controller]\")]\n    public class UserController : ControllerBase\n    {\n        private readonly IUserService _service;\n\n        public UserController(IUserService service)\n        {\n            _service = service;\n        }\n\n        /// <summary>\n        /// Get all users\n        /// </summary>\n        [HttpGet]\n        public async Task<ActionResult<IEnumerable<User>>> GetAll()\n        {\n            try\n            {\n                var entities = await _service.GetAllAsync();\n                return Ok(entities);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Get user by ID\n        /// </summary>\n        [HttpGet(\"{id}\")]\n        public async Task<ActionResult<User>> GetById(int id)\n        {\n            try\n            {\n                var entity = await _service.GetByIdAsync(id);\n                if (entity == null)\n                {\n                    return NotFound(new { error = \"User not found\", id });\n                }\n                return Ok(entity);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Create new user\n        /// </summary>\n        [HttpPost]\n        public async Task<ActionResult<User>> Create([FromBody] User entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var created = await _service.CreateAsync(entity);\n                return CreatedAtAction(nameof(GetById), new { id = created.Id }, created);\n            }\n            catch (ArgumentException ex)\n            {\n                return BadRequest(new { error = \"Validation error\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Update user by ID\n        /// </summary>\n        [HttpPut(\"{id}\")]\n        public async Task<ActionResult<User>> Update(int id, [FromBody] User entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var updated = await _service.UpdateAsync(id, entity);\n                return Ok(updated);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Delete user by ID\n        /// </summary>\n        [HttpDelete(\"{id}\")]\n        public async Task<IActionResult> Delete(int id)\n        {\n            try\n            {\n                await _service.DeleteAsync(id);\n                return NoContent();\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Suspend user by ID\n        /// </summary>\n        [HttpPatch(\"{id}/suspend\")]\n        public async Task<ActionResult<User>> Suspend(int id)\n        {\n            try\n            {\n                var entity = await _service.SuspendUserAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Activate user by ID\n        /// </summary>\n        [HttpPatch(\"{id}/activate\")]\n        public async Task<ActionResult<User>> Activate(int id)\n        {\n            try\n            {\n                var entity = await _service.ActivateUserAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n    }\n}\n","enums/UserStatus.cs":"namespace com.example.csharp.Enums\n{\n    public enum UserStatus\n    {\n        ACTIVE,\n        SUSPENDED\n    }\n}\n","README.md":"# Generated Application\n\nThis application was generated from UML diagrams using the modular code generator.\n\n## Architecture\n\n- **Entities**: Domain models with state management\n- **Repositories**: Data access layer\n- **Services**: Business logic layer\n- **Controllers**: REST API endpoints\n\n## Generated Classes\n\n### User\n- **Stateful entity** with state transitions\n\n"},"packageName":null,"language":null,"generatedFiles":{"Services/UserService.java":"using com.example.csharp.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nusing com.example.csharp.Enums;\n\nnamespace com.example.csharp.Services\n{\n    public interface IUserService\n    {\n        Task<IEnumerable<User>> GetAllAsync();\n        Task<User?> GetByIdAsync(int id);\n        Task<User> CreateAsync(User entity);\n        Task<User> UpdateAsync(int id, User entity);\n        Task DeleteAsync(int id);\n        Task<User> SuspendUserAsync(int id);\n        Task<User> ActivateUserAsync(int id);\n    }\n}\n\n\nusing com.example.csharp.Models;\nusing com.example.csharp.Repositories;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing com.example.csharp.Enums;\n\nnamespace com.example.csharp.Services\n{\n    public class UserService : IUserService\n    {\n        private readonly IUserRepository _repository;\n\n        public UserService(IUserRepository repository)\n        {\n            _repository = repository;\n        }\n\n        public async Task<IEnumerable<User>> GetAllAsync()\n        {\n            return await _repository.GetAllAsync();\n        }\n\n        public async Task<User?> GetByIdAsync(int id)\n        {\n            return await _repository.GetByIdAsync(id);\n        }\n\n        public async Task<User> CreateAsync(User entity)\n        {\n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            return await _repository.CreateAsync(entity);\n        }\n\n        public async Task<User> UpdateAsync(int id, User entity)\n        {\n            var existing = await _repository.GetByIdAsync(id);\n            if (existing == null)\n            {\n                throw new ArgumentException($\"User with id {id} not found\");\n            }\n            \n            // Add business logic and validation here\n            ValidateEntity(entity);\n            \n            // Update properties\n            entity.Id = id;\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var exists = await _repository.ExistsAsync(id);\n            if (!exists)\n            {\n                throw new ArgumentException($\"User with id {id} not found\");\n            }\n            \n            await _repository.DeleteAsync(id);\n        }\n\n        public async Task<User> SuspendUserAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"User with id {id} not found\");\n            }\n            \n            entity.Suspend();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        public async Task<User> ActivateUserAsync(int id)\n        {\n            var entity = await _repository.GetByIdAsync(id);\n            if (entity == null)\n            {\n                throw new ArgumentException($\"User with id {id} not found\");\n            }\n            \n            entity.Activate();\n            return await _repository.UpdateAsync(entity);\n        }\n\n        private void ValidateEntity(User entity)\n        {\n            if (entity == null)\n            {\n                throw new ArgumentNullException(nameof(entity));\n            }\n            \n            // Add custom validation logic here\n        }\n    }\n}\n","Data/V001__Initial_Schema.sql":"using com.example.csharp.Models;\nusing Microsoft.EntityFrameworkCore;\nusing System;\n\nnamespace com.example.csharp.Data\n{\n    public class ApplicationDbContext : DbContext\n    {\n        public ApplicationDbContext(DbContextOptions<ApplicationDbContext> options) : base(options)\n        {\n        }\n\n        public DbSet<User> Users { get; set; }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            base.OnModelCreating(modelBuilder);\n\n            // Configure User entity\n            modelBuilder.Entity<User>()\n                .ToTable(\"users\")\n                .HasKey(e => e.Id);\n\n            modelBuilder.Entity<User>()\n                .Property(e => e.Id)\n                .ValueGeneratedOnAdd();\n\n            modelBuilder.Entity<User>()\n                .Property(e => e.CreatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<User>()\n                .Property(e => e.UpdatedAt)\n                .HasDefaultValueSql(\"GETUTCDATE()\");\n\n            modelBuilder.Entity<User>()\n                .Property(e => e.Status)\n                .HasConversion<string>();\n\n        }\n\n        public override int SaveChanges()\n        {\n            UpdateAuditFields();\n            return base.SaveChanges();\n        }\n\n        public override async Task<int> SaveChangesAsync(CancellationToken cancellationToken = default)\n        {\n            UpdateAuditFields();\n            return await base.SaveChangesAsync(cancellationToken);\n        }\n\n        private void UpdateAuditFields()\n        {\n            var entries = ChangeTracker.Entries()\n                .Where(e => e.State == EntityState.Added || e.State == EntityState.Modified);\n\n            foreach (var entry in entries)\n            {\n                if (entry.Entity.GetType().GetProperty(\"UpdatedAt\") != null)\n                {\n                    entry.Property(\"UpdatedAt\").CurrentValue = DateTime.UtcNow;\n                }\n\n                if (entry.State == EntityState.Added && entry.Entity.GetType().GetProperty(\"CreatedAt\") != null)\n                {\n                    entry.Property(\"CreatedAt\").CurrentValue = DateTime.UtcNow;\n                }\n            }\n        }\n    }\n}\n\n\n// Startup.cs configuration for com.example.csharp\nusing com.example.csharp.Data;\nusing com.example.csharp.Services;\nusing com.example.csharp.Repositories;\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Configuration;\n\nnamespace com.example.csharp\n{\n    public class Startup\n    {\n        public IConfiguration Configuration { get; }\n\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public void ConfigureServices(IServiceCollection services)\n        {\n            // Add Entity Framework\n            services.AddDbContext<ApplicationDbContext>(options =>\n                options.UseSqlServer(Configuration.GetConnectionString(\"DefaultConnection\")));\n\n            // Add repositories\n            // services.AddScoped<IUserRepository, UserRepository>();\n            // Add more repositories here\n\n            // Add services\n            // services.AddScoped<IUserService, UserService>();\n            // Add more services here\n\n            // Add controllers\n            services.AddControllers();\n\n            // Add Swagger\n            services.AddEndpointsApiExplorer();\n            services.AddSwaggerGen();\n        }\n\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseSwagger();\n                app.UseSwaggerUI();\n            }\n\n            app.UseHttpsRedirection();\n            app.UseRouting();\n            app.UseAuthorization();\n            app.UseEndpoints(endpoints => { endpoints.MapControllers(); });\n        }\n    }\n}\n\n\n// Program.cs for com.example.csharp\nusing com.example.csharp.Data;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace com.example.csharp\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            var builder = WebApplication.CreateBuilder(args);\n\n            // Add services to the container\n            builder.Services.AddDbContext<ApplicationDbContext>(options =>\n                options.UseSqlServer(builder.Configuration.GetConnectionString(\"DefaultConnection\")));\n\n            builder.Services.AddControllers();\n            builder.Services.AddEndpointsApiExplorer();\n            builder.Services.AddSwaggerGen();\n\n            var app = builder.Build();\n\n            // Configure the HTTP request pipeline\n            if (app.Environment.IsDevelopment())\n            {\n                app.UseSwagger();\n                app.UseSwaggerUI();\n            }\n\n            app.UseHttpsRedirection();\n            app.UseAuthorization();\n            app.MapControllers();\n\n            // Ensure database is created\n            using (var scope = app.Services.CreateScope())\n            {\n                var context = scope.ServiceProvider.GetRequiredService<ApplicationDbContext>();\n                context.Database.EnsureCreated();\n            }\n\n            app.Run();\n        }\n    }\n}\n","Repositories/UserRepository.java":"using com.example.csharp.Models;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace com.example.csharp.Repositories\n{\n    public interface IUserRepository\n    {\n        Task<IEnumerable<User>> GetAllAsync();\n        Task<User?> GetByIdAsync(int id);\n        Task<User> CreateAsync(User entity);\n        Task<User> UpdateAsync(User entity);\n        Task DeleteAsync(int id);\n        Task<bool> ExistsAsync(int id);\n    }\n}\n\n\nusing com.example.csharp.Models;\nusing com.example.csharp.Data;\nusing Microsoft.EntityFrameworkCore;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nnamespace com.example.csharp.Repositories\n{\n    public class UserRepository : IUserRepository\n    {\n        private readonly ApplicationDbContext _context;\n\n        public UserRepository(ApplicationDbContext context)\n        {\n            _context = context;\n        }\n\n        public async Task<IEnumerable<User>> GetAllAsync()\n        {\n            return await _context.Users.ToListAsync();\n        }\n\n        public async Task<User?> GetByIdAsync(int id)\n        {\n            return await _context.Users.FindAsync(id);\n        }\n\n        public async Task<User> CreateAsync(User entity)\n        {\n            entity.CreatedAt = DateTime.UtcNow;\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Users.Add(entity);\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task<User> UpdateAsync(User entity)\n        {\n            entity.UpdatedAt = DateTime.UtcNow;\n            \n            _context.Entry(entity).State = EntityState.Modified;\n            await _context.SaveChangesAsync();\n            return entity;\n        }\n\n        public async Task DeleteAsync(int id)\n        {\n            var entity = await GetByIdAsync(id);\n            if (entity != null)\n            {\n                _context.Users.Remove(entity);\n                await _context.SaveChangesAsync();\n            }\n        }\n\n        public async Task<bool> ExistsAsync(int id)\n        {\n            return await _context.Users.AnyAsync(e => e.Id == id);\n        }\n    }\n}\n","Models/User.cs":"using System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing System;\n\nusing com.example.csharp.Enums;\n\nnamespace com.example.csharp.Models\n{\n    [Table(\"users\")]\n    public class User\n    {\n        [Key]\n        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n        public string Id { get; set; }\n\n        public string Username { get; set; }\n\n        public string Email { get; set; }\n\n        public string Status { get; set; }\n\n        [Column(\"status\")]\n        public UserStatus Status { get; set; }\n\n        [Column(\"created_at\")]\n        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;\n\n        [Column(\"updated_at\")]\n        public DateTime UpdatedAt { get; set; } = DateTime.UtcNow;\n\n        public void Suspend()\n        {\n            if (Status != UserStatus.ACTIVE)\n            {\n                throw new InvalidOperationException($\"Cannot suspend entity in state: {Status}\");\n            }\n            Status = UserStatus.SUSPENDED;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n        public void Activate()\n        {\n            if (Status != UserStatus.SUSPENDED)\n            {\n                throw new InvalidOperationException($\"Cannot activate entity in state: {Status}\");\n            }\n            Status = UserStatus.ACTIVE;\n            UpdatedAt = DateTime.UtcNow;\n        }\n\n    }\n}\n","Controllers/UserController.java":"using com.example.csharp.Models;\nusing com.example.csharp.Services;\nusing Microsoft.AspNetCore.Mvc;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing System;\n\nusing com.example.csharp.Enums;\n\nnamespace com.example.csharp.Controllers\n{\n    [ApiController]\n    [Route(\"api/[controller]\")]\n    public class UserController : ControllerBase\n    {\n        private readonly IUserService _service;\n\n        public UserController(IUserService service)\n        {\n            _service = service;\n        }\n\n        /// <summary>\n        /// Get all users\n        /// </summary>\n        [HttpGet]\n        public async Task<ActionResult<IEnumerable<User>>> GetAll()\n        {\n            try\n            {\n                var entities = await _service.GetAllAsync();\n                return Ok(entities);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Get user by ID\n        /// </summary>\n        [HttpGet(\"{id}\")]\n        public async Task<ActionResult<User>> GetById(int id)\n        {\n            try\n            {\n                var entity = await _service.GetByIdAsync(id);\n                if (entity == null)\n                {\n                    return NotFound(new { error = \"User not found\", id });\n                }\n                return Ok(entity);\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Create new user\n        /// </summary>\n        [HttpPost]\n        public async Task<ActionResult<User>> Create([FromBody] User entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var created = await _service.CreateAsync(entity);\n                return CreatedAtAction(nameof(GetById), new { id = created.Id }, created);\n            }\n            catch (ArgumentException ex)\n            {\n                return BadRequest(new { error = \"Validation error\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Update user by ID\n        /// </summary>\n        [HttpPut(\"{id}\")]\n        public async Task<ActionResult<User>> Update(int id, [FromBody] User entity)\n        {\n            try\n            {\n                if (!ModelState.IsValid)\n                {\n                    return BadRequest(ModelState);\n                }\n                \n                var updated = await _service.UpdateAsync(id, entity);\n                return Ok(updated);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Delete user by ID\n        /// </summary>\n        [HttpDelete(\"{id}\")]\n        public async Task<IActionResult> Delete(int id)\n        {\n            try\n            {\n                await _service.DeleteAsync(id);\n                return NoContent();\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Suspend user by ID\n        /// </summary>\n        [HttpPatch(\"{id}/suspend\")]\n        public async Task<ActionResult<User>> Suspend(int id)\n        {\n            try\n            {\n                var entity = await _service.SuspendUserAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n        /// <summary>\n        /// Activate user by ID\n        /// </summary>\n        [HttpPatch(\"{id}/activate\")]\n        public async Task<ActionResult<User>> Activate(int id)\n        {\n            try\n            {\n                var entity = await _service.ActivateUserAsync(id);\n                return Ok(entity);\n            }\n            catch (ArgumentException ex)\n            {\n                return NotFound(new { error = \"Entity not found\", message = ex.Message });\n            }\n            catch (InvalidOperationException ex)\n            {\n                return BadRequest(new { error = \"Invalid state transition\", message = ex.Message });\n            }\n            catch (Exception ex)\n            {\n                return StatusCode(500, new { error = \"Internal server error\", message = ex.Message });\n            }\n        }\n\n    }\n}\n","enums/UserStatus.cs":"namespace com.example.csharp.Enums\n{\n    public enum UserStatus\n    {\n        ACTIVE,\n        SUSPENDED\n    }\n}\n","README.md":"# Generated Application\n\nThis application was generated from UML diagrams using the modular code generator.\n\n## Architecture\n\n- **Entities**: Domain models with state management\n- **Repositories**: Data access layer\n- **Services**: Business logic layer\n- **Controllers**: REST API endpoints\n\n## Generated Classes\n\n### User\n- **Stateful entity** with state transitions\n\n"}}