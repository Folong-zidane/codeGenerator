{"files":{"Services/UserService.java":"<?php\n\nnamespace com.example.php\\Services;\n\nuse com.example.php\\Models\\User;\nuse com.example.php\\Repositories\\UserRepositoryInterface;\nuse Illuminate\\Database\\Eloquent\\Collection;\nuse Illuminate\\Pagination\\LengthAwarePaginator;\nuse Illuminate\\Validation\\ValidationException;\nuse Illuminate\\Support\\Facades\\Validator;\nuse Illuminate\\Support\\Facades\\Log;\n\nuse com.example.php\\Enums\\UserStatus;\n\nclass UserService\n{\n    protected UserRepositoryInterface $repository;\n\n    public function __construct(UserRepositoryInterface $repository)\n    {\n        $this->repository = $repository;\n    }\n\n    public function getAll(): Collection\n    {\n        return $this->repository->getAll();\n    }\n\n    public function getPaginated(int $perPage = 15): LengthAwarePaginator\n    {\n        return $this->repository->getPaginated($perPage);\n    }\n\n    public function findById(int $id): ?User\n    {\n        return $this->repository->findById($id);\n    }\n\n    public function create(array $data): User\n    {\n        $this->validateData($data);\n        \n        try {\n            return $this->repository->create($data);\n        } catch (\\Exception $e) {\n            Log::error('Service error creating User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function update(int $id, array $data): ?User\n    {\n        $entity = $this->repository->findById($id);\n        if (!$entity) {\n            throw new \\InvalidArgumentException('User not found with id: ' . $id);\n        }\n        \n        $this->validateData($data, $id);\n        \n        try {\n            return $this->repository->update($id, $data);\n        } catch (\\Exception $e) {\n            Log::error('Service error updating User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function delete(int $id): bool\n    {\n        $entity = $this->repository->findById($id);\n        if (!$entity) {\n            throw new \\InvalidArgumentException('User not found with id: ' . $id);\n        }\n        \n        try {\n            return $this->repository->delete($id);\n        } catch (\\Exception $e) {\n            Log::error('Service error deleting User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function suspendUser(int $id): ?User\n    {\n        $entity = $this->repository->findById($id);\n        if (!$entity) {\n            throw new \\InvalidArgumentException('User not found with id: ' . $id);\n        }\n        \n        try {\n            $entity->suspend();\n            return $entity;\n        } catch (\\Exception $e) {\n            Log::error('Service error suspending User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function activateUser(int $id): ?User\n    {\n        $entity = $this->repository->findById($id);\n        if (!$entity) {\n            throw new \\InvalidArgumentException('User not found with id: ' . $id);\n        }\n        \n        try {\n            $entity->activate();\n            return $entity;\n        } catch (\\Exception $e) {\n            Log::error('Service error activating User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    protected function validateData(array $data, ?int $id = null): void\n    {\n        $rules = [\n            // Add validation rules here\n            // 'name' => 'required|string|max:255',\n            // 'email' => 'required|email|unique:users,email' . ($id ? ',' . $id : ''),\n        ];\n        \n        $validator = Validator::make($data, $rules);\n        \n        if ($validator->fails()) {\n            throw new ValidationException($validator);\n        }\n    }\n}\n","Http/Controllers/Api/UserController.java":"<?php\n\nnamespace com.example.php\\Http\\Controllers\\Api;\n\nuse com.example.php\\Http\\Controllers\\Controller;\nuse com.example.php\\Models\\User;\nuse com.example.php\\Services\\UserService;\nuse com.example.php\\Http\\Resources\\UserResource;\nuse com.example.php\\Http\\Requests\\StoreUserRequest;\nuse com.example.php\\Http\\Requests\\UpdateUserRequest;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Http\\JsonResponse;\nuse Illuminate\\Http\\Resources\\Json\\AnonymousResourceCollection;\nuse Illuminate\\Support\\Facades\\Log;\n\nclass UserController extends Controller\n{\n    protected UserService $service;\n\n    public function __construct(UserService $service)\n    {\n        $this->service = $service;\n    }\n\n    /**\n     * Display a listing of the resource.\n     */\n    public function index(Request $request): AnonymousResourceCollection\n    {\n        try {\n            $perPage = $request->get('per_page', 15);\n            $entities = $this->service->getPaginated($perPage);\n            \n            return UserResource::collection($entities);\n        } catch (\\Exception $e) {\n            Log::error('Error fetching users: ' . $e->getMessage());\n            return response()->json(['error' => 'Internal server error'], 500);\n        }\n    }\n\n    /**\n     * Display the specified resource.\n     */\n    public function show(int $id): JsonResponse\n    {\n        try {\n            $entity = $this->service->findById($id);\n            \n            if (!$entity) {\n                return response()->json(['error' => 'User not found'], 404);\n            }\n            \n            return response()->json(new UserResource($entity));\n        } catch (\\Exception $e) {\n            Log::error('Error fetching user: ' . $e->getMessage());\n            return response()->json(['error' => 'Internal server error'], 500);\n        }\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     */\n    public function store(StoreUserRequest $request): JsonResponse\n    {\n        try {\n            $entity = $this->service->create($request->validated());\n            \n            return response()->json(new UserResource($entity), 201);\n        } catch (\\Exception $e) {\n            Log::error('Error creating user: ' . $e->getMessage());\n            return response()->json(['error' => 'Bad request', 'message' => $e->getMessage()], 400);\n        }\n    }\n\n    /**\n     * Update the specified resource in storage.\n     */\n    public function update(UpdateUserRequest $request, int $id): JsonResponse\n    {\n        try {\n            $entity = $this->service->update($id, $request->validated());\n            \n            if (!$entity) {\n                return response()->json(['error' => 'User not found'], 404);\n            }\n            \n            return response()->json(new UserResource($entity));\n        } catch (\\InvalidArgumentException $e) {\n            return response()->json(['error' => 'Entity not found', 'message' => $e->getMessage()], 404);\n        } catch (\\Exception $e) {\n            Log::error('Error updating user: ' . $e->getMessage());\n            return response()->json(['error' => 'Bad request', 'message' => $e->getMessage()], 400);\n        }\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     */\n    public function destroy(int $id): JsonResponse\n    {\n        try {\n            $deleted = $this->service->delete($id);\n            \n            if (!$deleted) {\n                return response()->json(['error' => 'User not found'], 404);\n            }\n            \n            return response()->json(null, 204);\n        } catch (\\InvalidArgumentException $e) {\n            return response()->json(['error' => 'Entity not found', 'message' => $e->getMessage()], 404);\n        } catch (\\Exception $e) {\n            Log::error('Error deleting user: ' . $e->getMessage());\n            return response()->json(['error' => 'Internal server error'], 500);\n        }\n    }\n\n    /**\n     * Suspend the specified user.\n     */\n    public function suspend(int $id): JsonResponse\n    {\n        try {\n            $entity = $this->service->suspendUser($id);\n            \n            return response()->json(new UserResource($entity));\n        } catch (\\InvalidArgumentException $e) {\n            return response()->json(['error' => 'Entity not found', 'message' => $e->getMessage()], 404);\n        } catch (\\Exception $e) {\n            Log::error('Error suspending user: ' . $e->getMessage());\n            return response()->json(['error' => 'Invalid state transition', 'message' => $e->getMessage()], 400);\n        }\n    }\n\n    /**\n     * Activate the specified user.\n     */\n    public function activate(int $id): JsonResponse\n    {\n        try {\n            $entity = $this->service->activateUser($id);\n            \n            return response()->json(new UserResource($entity));\n        } catch (\\InvalidArgumentException $e) {\n            return response()->json(['error' => 'Entity not found', 'message' => $e->getMessage()], 404);\n        } catch (\\Exception $e) {\n            Log::error('Error activating user: ' . $e->getMessage());\n            return response()->json(['error' => 'Invalid state transition', 'message' => $e->getMessage()], 400);\n        }\n    }\n\n}\n","enums/UserStatus.php":"<?php\n\nnamespace com.example.php\\Enums;\n\nenum UserStatus: string\n{\n    case ACTIVE = 'ACTIVE';\n    case SUSPENDED = 'SUSPENDED';\n\n    public function label(): string\n    {\n        return match($this) {\n            self::ACTIVE => 'Active',\n            self::SUSPENDED => 'Suspended',\n        };\n    }\n}\n","Repositories/UserRepository.java":"<?php\n\nnamespace com.example.php\\Repositories;\n\nuse com.example.php\\Models\\User;\nuse Illuminate\\Database\\Eloquent\\Collection;\nuse Illuminate\\Pagination\\LengthAwarePaginator;\n\ninterface UserRepositoryInterface\n{\n    public function getAll(): Collection;\n    public function getPaginated(int $perPage = 15): LengthAwarePaginator;\n    public function findById(int $id): ?User;\n    public function create(array $data): User;\n    public function update(int $id, array $data): ?User;\n    public function delete(int $id): bool;\n    public function exists(int $id): bool;\n}\n\n\n<?php\n\nnamespace com.example.php\\Repositories;\n\nuse com.example.php\\Models\\User;\nuse Illuminate\\Database\\Eloquent\\Collection;\nuse Illuminate\\Pagination\\LengthAwarePaginator;\nuse Illuminate\\Support\\Facades\\Log;\n\nclass UserRepository implements UserRepositoryInterface\n{\n    protected User $model;\n\n    public function __construct(User $model)\n    {\n        $this->model = $model;\n    }\n\n    public function getAll(): Collection\n    {\n        return $this->model->all();\n    }\n\n    public function getPaginated(int $perPage = 15): LengthAwarePaginator\n    {\n        return $this->model->paginate($perPage);\n    }\n\n    public function findById(int $id): ?User\n    {\n        return $this->model->find($id);\n    }\n\n    public function create(array $data): User\n    {\n        try {\n            return $this->model->create($data);\n        } catch (\\Exception $e) {\n            Log::error('Error creating User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function update(int $id, array $data): ?User\n    {\n        try {\n            $entity = $this->findById($id);\n            if ($entity) {\n                $entity->update($data);\n                return $entity->fresh();\n            }\n            return null;\n        } catch (\\Exception $e) {\n            Log::error('Error updating User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function delete(int $id): bool\n    {\n        try {\n            $entity = $this->findById($id);\n            if ($entity) {\n                return $entity->delete();\n            }\n            return false;\n        } catch (\\Exception $e) {\n            Log::error('Error deleting User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function exists(int $id): bool\n    {\n        return $this->model->where('id', $id)->exists();\n    }\n}\n","Models/User.php":"<?php\n\nnamespace com.example.php\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Carbon\\Carbon;\nuse com.example.php\\Enums\\UserStatus;\n\nclass User extends Model\n{\n    use HasFactory;\n\n    protected $table = 'users';\n\n    protected $fillable = [\n        'username',\n        'email',\n        'status',\n        'status',\n    ];\n\n    protected $casts = [\n        'status' => UserStatus::class,\n        'created_at' => 'datetime',\n        'updated_at' => 'datetime',\n    ];\n\n    public function suspend(): void\n    {\n        if ($this->status !== UserStatus::ACTIVE) {\n            throw new \\InvalidArgumentException('Cannot suspend entity in state: ' . $this->status->value);\n        }\n        \n        $this->status = UserStatus::SUSPENDED;\n        $this->updated_at = Carbon::now();\n        $this->save();\n    }\n\n    public function activate(): void\n    {\n        if ($this->status !== UserStatus::SUSPENDED) {\n            throw new \\InvalidArgumentException('Cannot activate entity in state: ' . $this->status->value);\n        }\n        \n        $this->status = UserStatus::ACTIVE;\n        $this->updated_at = Carbon::now();\n        $this->save();\n    }\n\n}\n","database/migrations/V001__Initial_Schema.sql":"<?php\n\nuse Illuminate\\Database\\Migrations\\Migration;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Support\\Facades\\Schema;\n\nreturn new class extends Migration\n{\n    /**\n     * Run the migrations.\n     */\n    public function up(): void\n    {\n        Schema::create('users', function (Blueprint $table) {\n            $table->id();\n            $table->string('username');\n            $table->string('email')->nullable()->unique();\n            $table->string('status')->nullable();\n            $table->string('status')->default('ACTIVE');\n            $table->timestamps();\n\n            // Indexes\n            $table->index('status');\n            $table->index('created_at');\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     */\n    public function down(): void\n    {\n        Schema::dropIfExists('users');\n    }\n};\n\n\n<?php\n\nnamespace com.example.php\\Providers;\n\nuse Illuminate\\Support\\ServiceProvider;\nuse com.example.php\\Repositories\\UserRepository;\nuse com.example.php\\Repositories\\UserRepositoryInterface;\n\nclass AppServiceProvider extends ServiceProvider\n{\n    /**\n     * Register any application services.\n     */\n    public function register(): void\n    {\n        $this->app->bind(UserRepositoryInterface::class, UserRepository::class);\n    }\n\n    /**\n     * Bootstrap any application services.\n     */\n    public function boot(): void\n    {\n        //\n    }\n}\n\n\n<?php\n\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Route;\nuse com.example.php\\Http\\Controllers\\Api\\UserController;\n\n/*\n|--------------------------------------------------------------------------\n| API Routes\n|--------------------------------------------------------------------------\n|\n| Here is where you can register API routes for your application. These\n| routes are loaded by the RouteServiceProvider and all of them will\n| be assigned to the \"api\" middleware group. Make something great!\n|\n*/\n\nRoute::middleware('auth:sanctum')->get('/user', function (Request $request) {\n    return $request->user();\n});\n\n// User routes\nRoute::apiResource('users', UserController::class);\nRoute::patch('users/{id}/suspend', [UserController::class, 'suspend']);\nRoute::patch('users/{id}/activate', [UserController::class, 'activate']);\n\n","README.md":"# Generated Application\n\nThis application was generated from UML diagrams using the modular code generator.\n\n## Architecture\n\n- **Entities**: Domain models with state management\n- **Repositories**: Data access layer\n- **Services**: Business logic layer\n- **Controllers**: REST API endpoints\n\n## Generated Classes\n\n### User\n- **Stateful entity** with state transitions\n\n"},"packageName":null,"language":null,"generatedFiles":{"Services/UserService.java":"<?php\n\nnamespace com.example.php\\Services;\n\nuse com.example.php\\Models\\User;\nuse com.example.php\\Repositories\\UserRepositoryInterface;\nuse Illuminate\\Database\\Eloquent\\Collection;\nuse Illuminate\\Pagination\\LengthAwarePaginator;\nuse Illuminate\\Validation\\ValidationException;\nuse Illuminate\\Support\\Facades\\Validator;\nuse Illuminate\\Support\\Facades\\Log;\n\nuse com.example.php\\Enums\\UserStatus;\n\nclass UserService\n{\n    protected UserRepositoryInterface $repository;\n\n    public function __construct(UserRepositoryInterface $repository)\n    {\n        $this->repository = $repository;\n    }\n\n    public function getAll(): Collection\n    {\n        return $this->repository->getAll();\n    }\n\n    public function getPaginated(int $perPage = 15): LengthAwarePaginator\n    {\n        return $this->repository->getPaginated($perPage);\n    }\n\n    public function findById(int $id): ?User\n    {\n        return $this->repository->findById($id);\n    }\n\n    public function create(array $data): User\n    {\n        $this->validateData($data);\n        \n        try {\n            return $this->repository->create($data);\n        } catch (\\Exception $e) {\n            Log::error('Service error creating User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function update(int $id, array $data): ?User\n    {\n        $entity = $this->repository->findById($id);\n        if (!$entity) {\n            throw new \\InvalidArgumentException('User not found with id: ' . $id);\n        }\n        \n        $this->validateData($data, $id);\n        \n        try {\n            return $this->repository->update($id, $data);\n        } catch (\\Exception $e) {\n            Log::error('Service error updating User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function delete(int $id): bool\n    {\n        $entity = $this->repository->findById($id);\n        if (!$entity) {\n            throw new \\InvalidArgumentException('User not found with id: ' . $id);\n        }\n        \n        try {\n            return $this->repository->delete($id);\n        } catch (\\Exception $e) {\n            Log::error('Service error deleting User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function suspendUser(int $id): ?User\n    {\n        $entity = $this->repository->findById($id);\n        if (!$entity) {\n            throw new \\InvalidArgumentException('User not found with id: ' . $id);\n        }\n        \n        try {\n            $entity->suspend();\n            return $entity;\n        } catch (\\Exception $e) {\n            Log::error('Service error suspending User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function activateUser(int $id): ?User\n    {\n        $entity = $this->repository->findById($id);\n        if (!$entity) {\n            throw new \\InvalidArgumentException('User not found with id: ' . $id);\n        }\n        \n        try {\n            $entity->activate();\n            return $entity;\n        } catch (\\Exception $e) {\n            Log::error('Service error activating User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    protected function validateData(array $data, ?int $id = null): void\n    {\n        $rules = [\n            // Add validation rules here\n            // 'name' => 'required|string|max:255',\n            // 'email' => 'required|email|unique:users,email' . ($id ? ',' . $id : ''),\n        ];\n        \n        $validator = Validator::make($data, $rules);\n        \n        if ($validator->fails()) {\n            throw new ValidationException($validator);\n        }\n    }\n}\n","Http/Controllers/Api/UserController.java":"<?php\n\nnamespace com.example.php\\Http\\Controllers\\Api;\n\nuse com.example.php\\Http\\Controllers\\Controller;\nuse com.example.php\\Models\\User;\nuse com.example.php\\Services\\UserService;\nuse com.example.php\\Http\\Resources\\UserResource;\nuse com.example.php\\Http\\Requests\\StoreUserRequest;\nuse com.example.php\\Http\\Requests\\UpdateUserRequest;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Http\\JsonResponse;\nuse Illuminate\\Http\\Resources\\Json\\AnonymousResourceCollection;\nuse Illuminate\\Support\\Facades\\Log;\n\nclass UserController extends Controller\n{\n    protected UserService $service;\n\n    public function __construct(UserService $service)\n    {\n        $this->service = $service;\n    }\n\n    /**\n     * Display a listing of the resource.\n     */\n    public function index(Request $request): AnonymousResourceCollection\n    {\n        try {\n            $perPage = $request->get('per_page', 15);\n            $entities = $this->service->getPaginated($perPage);\n            \n            return UserResource::collection($entities);\n        } catch (\\Exception $e) {\n            Log::error('Error fetching users: ' . $e->getMessage());\n            return response()->json(['error' => 'Internal server error'], 500);\n        }\n    }\n\n    /**\n     * Display the specified resource.\n     */\n    public function show(int $id): JsonResponse\n    {\n        try {\n            $entity = $this->service->findById($id);\n            \n            if (!$entity) {\n                return response()->json(['error' => 'User not found'], 404);\n            }\n            \n            return response()->json(new UserResource($entity));\n        } catch (\\Exception $e) {\n            Log::error('Error fetching user: ' . $e->getMessage());\n            return response()->json(['error' => 'Internal server error'], 500);\n        }\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     */\n    public function store(StoreUserRequest $request): JsonResponse\n    {\n        try {\n            $entity = $this->service->create($request->validated());\n            \n            return response()->json(new UserResource($entity), 201);\n        } catch (\\Exception $e) {\n            Log::error('Error creating user: ' . $e->getMessage());\n            return response()->json(['error' => 'Bad request', 'message' => $e->getMessage()], 400);\n        }\n    }\n\n    /**\n     * Update the specified resource in storage.\n     */\n    public function update(UpdateUserRequest $request, int $id): JsonResponse\n    {\n        try {\n            $entity = $this->service->update($id, $request->validated());\n            \n            if (!$entity) {\n                return response()->json(['error' => 'User not found'], 404);\n            }\n            \n            return response()->json(new UserResource($entity));\n        } catch (\\InvalidArgumentException $e) {\n            return response()->json(['error' => 'Entity not found', 'message' => $e->getMessage()], 404);\n        } catch (\\Exception $e) {\n            Log::error('Error updating user: ' . $e->getMessage());\n            return response()->json(['error' => 'Bad request', 'message' => $e->getMessage()], 400);\n        }\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     */\n    public function destroy(int $id): JsonResponse\n    {\n        try {\n            $deleted = $this->service->delete($id);\n            \n            if (!$deleted) {\n                return response()->json(['error' => 'User not found'], 404);\n            }\n            \n            return response()->json(null, 204);\n        } catch (\\InvalidArgumentException $e) {\n            return response()->json(['error' => 'Entity not found', 'message' => $e->getMessage()], 404);\n        } catch (\\Exception $e) {\n            Log::error('Error deleting user: ' . $e->getMessage());\n            return response()->json(['error' => 'Internal server error'], 500);\n        }\n    }\n\n    /**\n     * Suspend the specified user.\n     */\n    public function suspend(int $id): JsonResponse\n    {\n        try {\n            $entity = $this->service->suspendUser($id);\n            \n            return response()->json(new UserResource($entity));\n        } catch (\\InvalidArgumentException $e) {\n            return response()->json(['error' => 'Entity not found', 'message' => $e->getMessage()], 404);\n        } catch (\\Exception $e) {\n            Log::error('Error suspending user: ' . $e->getMessage());\n            return response()->json(['error' => 'Invalid state transition', 'message' => $e->getMessage()], 400);\n        }\n    }\n\n    /**\n     * Activate the specified user.\n     */\n    public function activate(int $id): JsonResponse\n    {\n        try {\n            $entity = $this->service->activateUser($id);\n            \n            return response()->json(new UserResource($entity));\n        } catch (\\InvalidArgumentException $e) {\n            return response()->json(['error' => 'Entity not found', 'message' => $e->getMessage()], 404);\n        } catch (\\Exception $e) {\n            Log::error('Error activating user: ' . $e->getMessage());\n            return response()->json(['error' => 'Invalid state transition', 'message' => $e->getMessage()], 400);\n        }\n    }\n\n}\n","enums/UserStatus.php":"<?php\n\nnamespace com.example.php\\Enums;\n\nenum UserStatus: string\n{\n    case ACTIVE = 'ACTIVE';\n    case SUSPENDED = 'SUSPENDED';\n\n    public function label(): string\n    {\n        return match($this) {\n            self::ACTIVE => 'Active',\n            self::SUSPENDED => 'Suspended',\n        };\n    }\n}\n","Repositories/UserRepository.java":"<?php\n\nnamespace com.example.php\\Repositories;\n\nuse com.example.php\\Models\\User;\nuse Illuminate\\Database\\Eloquent\\Collection;\nuse Illuminate\\Pagination\\LengthAwarePaginator;\n\ninterface UserRepositoryInterface\n{\n    public function getAll(): Collection;\n    public function getPaginated(int $perPage = 15): LengthAwarePaginator;\n    public function findById(int $id): ?User;\n    public function create(array $data): User;\n    public function update(int $id, array $data): ?User;\n    public function delete(int $id): bool;\n    public function exists(int $id): bool;\n}\n\n\n<?php\n\nnamespace com.example.php\\Repositories;\n\nuse com.example.php\\Models\\User;\nuse Illuminate\\Database\\Eloquent\\Collection;\nuse Illuminate\\Pagination\\LengthAwarePaginator;\nuse Illuminate\\Support\\Facades\\Log;\n\nclass UserRepository implements UserRepositoryInterface\n{\n    protected User $model;\n\n    public function __construct(User $model)\n    {\n        $this->model = $model;\n    }\n\n    public function getAll(): Collection\n    {\n        return $this->model->all();\n    }\n\n    public function getPaginated(int $perPage = 15): LengthAwarePaginator\n    {\n        return $this->model->paginate($perPage);\n    }\n\n    public function findById(int $id): ?User\n    {\n        return $this->model->find($id);\n    }\n\n    public function create(array $data): User\n    {\n        try {\n            return $this->model->create($data);\n        } catch (\\Exception $e) {\n            Log::error('Error creating User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function update(int $id, array $data): ?User\n    {\n        try {\n            $entity = $this->findById($id);\n            if ($entity) {\n                $entity->update($data);\n                return $entity->fresh();\n            }\n            return null;\n        } catch (\\Exception $e) {\n            Log::error('Error updating User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function delete(int $id): bool\n    {\n        try {\n            $entity = $this->findById($id);\n            if ($entity) {\n                return $entity->delete();\n            }\n            return false;\n        } catch (\\Exception $e) {\n            Log::error('Error deleting User: ' . $e->getMessage());\n            throw $e;\n        }\n    }\n\n    public function exists(int $id): bool\n    {\n        return $this->model->where('id', $id)->exists();\n    }\n}\n","Models/User.php":"<?php\n\nnamespace com.example.php\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Carbon\\Carbon;\nuse com.example.php\\Enums\\UserStatus;\n\nclass User extends Model\n{\n    use HasFactory;\n\n    protected $table = 'users';\n\n    protected $fillable = [\n        'username',\n        'email',\n        'status',\n        'status',\n    ];\n\n    protected $casts = [\n        'status' => UserStatus::class,\n        'created_at' => 'datetime',\n        'updated_at' => 'datetime',\n    ];\n\n    public function suspend(): void\n    {\n        if ($this->status !== UserStatus::ACTIVE) {\n            throw new \\InvalidArgumentException('Cannot suspend entity in state: ' . $this->status->value);\n        }\n        \n        $this->status = UserStatus::SUSPENDED;\n        $this->updated_at = Carbon::now();\n        $this->save();\n    }\n\n    public function activate(): void\n    {\n        if ($this->status !== UserStatus::SUSPENDED) {\n            throw new \\InvalidArgumentException('Cannot activate entity in state: ' . $this->status->value);\n        }\n        \n        $this->status = UserStatus::ACTIVE;\n        $this->updated_at = Carbon::now();\n        $this->save();\n    }\n\n}\n","database/migrations/V001__Initial_Schema.sql":"<?php\n\nuse Illuminate\\Database\\Migrations\\Migration;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Support\\Facades\\Schema;\n\nreturn new class extends Migration\n{\n    /**\n     * Run the migrations.\n     */\n    public function up(): void\n    {\n        Schema::create('users', function (Blueprint $table) {\n            $table->id();\n            $table->string('username');\n            $table->string('email')->nullable()->unique();\n            $table->string('status')->nullable();\n            $table->string('status')->default('ACTIVE');\n            $table->timestamps();\n\n            // Indexes\n            $table->index('status');\n            $table->index('created_at');\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     */\n    public function down(): void\n    {\n        Schema::dropIfExists('users');\n    }\n};\n\n\n<?php\n\nnamespace com.example.php\\Providers;\n\nuse Illuminate\\Support\\ServiceProvider;\nuse com.example.php\\Repositories\\UserRepository;\nuse com.example.php\\Repositories\\UserRepositoryInterface;\n\nclass AppServiceProvider extends ServiceProvider\n{\n    /**\n     * Register any application services.\n     */\n    public function register(): void\n    {\n        $this->app->bind(UserRepositoryInterface::class, UserRepository::class);\n    }\n\n    /**\n     * Bootstrap any application services.\n     */\n    public function boot(): void\n    {\n        //\n    }\n}\n\n\n<?php\n\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Route;\nuse com.example.php\\Http\\Controllers\\Api\\UserController;\n\n/*\n|--------------------------------------------------------------------------\n| API Routes\n|--------------------------------------------------------------------------\n|\n| Here is where you can register API routes for your application. These\n| routes are loaded by the RouteServiceProvider and all of them will\n| be assigned to the \"api\" middleware group. Make something great!\n|\n*/\n\nRoute::middleware('auth:sanctum')->get('/user', function (Request $request) {\n    return $request->user();\n});\n\n// User routes\nRoute::apiResource('users', UserController::class);\nRoute::patch('users/{id}/suspend', [UserController::class, 'suspend']);\nRoute::patch('users/{id}/activate', [UserController::class, 'activate']);\n\n","README.md":"# Generated Application\n\nThis application was generated from UML diagrams using the modular code generator.\n\n## Architecture\n\n- **Entities**: Domain models with state management\n- **Repositories**: Data access layer\n- **Services**: Business logic layer\n- **Controllers**: REST API endpoints\n\n## Generated Classes\n\n### User\n- **Stateful entity** with state transitions\n\n"}}